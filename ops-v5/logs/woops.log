2017-07-17 22:04:33,610-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-07-17 22:04:33,734-[DEBUG]-common_func-common_func.py[line:41/online_app_list]-module_name_list : [{'app_name': u'app'}, {'app_name': u'mop'}]
2017-07-17 22:04:37,041-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-07-17 22:04:37,044-[DEBUG]-common_func-common_func.py[line:41/online_app_list]-module_name_list : [{'app_name': u'app'}, {'app_name': u'mop'}]
2017-07-17 22:05:07,715-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,login_name,name_cn,password,mobile,email,role,status,last_login_time from users where login_name="admin";"
2017-07-17 22:05:07,720-[DEBUG]-users-users.py[line:63/user_login]-select_login_info:(11L, u'admin', u'\u8bf8\u845b\u5b54\u660e', u'4bfd3be6dbd0c6888250de0640ec5905', u'15811110333', u'111@111.com', 0, 0, u'2017-07-16 12:27:57')
2017-07-17 22:05:07,720-[DEBUG]-users-users.py[line:68/user_login]-select_login_info_dict:{'status': 0, 'login_name': u'admin', 'last_login_time': u'2017-07-16 12:27:57', 'mobile': u'15811110333', 'name_cn': u'\u8bf8\u845b\u5b54\u660e', 'id': 11L, 'role': 0, 'password': u'4bfd3be6dbd0c6888250de0640ec5905', 'email': u'111@111.com'}
2017-07-17 22:05:07,721-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update users set last_login_time='2017-07-17 22:05:07' where login_name='admin';"
2017-07-17 22:05:07,760-[INFO]-users-users.py[line:79/user_login]-"admin" login success
2017-07-17 22:05:16,324-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "SELECT TABLE_SCHEMA,TABLE_NAME,TABLE_ROWS FROM online_table_rows where UpdateTime like '2017-07-16%';"
2017-07-17 22:05:16,364-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "SELECT TABLE_SCHEMA,TABLE_NAME,TABLE_ROWS FROM online_table_rows where UpdateTime like '2017-07-17%';"
2017-07-17 22:05:25,119-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:05:25" order by id DESC;"
2017-07-17 22:17:51,180-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:17:51" order by id DESC;"
2017-07-17 22:17:52,240-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:17:52" order by id DESC;"
2017-07-17 22:17:53,027-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:17:53" order by id DESC;"
2017-07-17 22:17:53,719-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:17:53" order by id DESC;"
2017-07-17 22:17:54,449-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:17:54" order by id DESC;"
2017-07-17 22:17:55,171-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:17:55" order by id DESC;"
2017-07-17 22:17:55,823-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:17:55" order by id DESC;"
2017-07-17 22:17:56,502-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:17:56" order by id DESC;"
2017-07-17 22:17:57,238-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:17:57" order by id DESC;"
2017-07-17 22:19:27,713-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:19:27" order by id DESC;"
2017-07-17 22:19:28,620-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:19:28" order by id DESC;"
2017-07-17 22:19:29,487-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:19:29" order by id DESC;"
2017-07-17 22:20:16,684-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:20:16" order by id DESC;"
2017-07-17 22:20:17,502-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:20:17" order by id DESC;"
2017-07-17 22:20:18,166-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:20:18" order by id DESC;"
2017-07-17 22:20:18,373-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:20:18" order by id DESC;"
2017-07-17 22:22:57,542-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:22:57" order by id DESC;"
2017-07-17 22:22:58,591-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:22:58" order by id DESC;"
2017-07-17 22:30:55,727-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:30:55" order by id DESC;"
2017-07-17 22:39:37,223-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-07-17 22:39:37,227-[DEBUG]-common_func-common_func.py[line:41/online_app_list]-module_name_list : [{'app_name': u'app'}, {'app_name': u'mop'}]
2017-07-17 22:51:00,183-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:51:00" order by id DESC;"
2017-07-17 22:51:03,290-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:51:03" order by id DESC;"
2017-07-17 22:56:54,712-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:56:54" order by id DESC;"
2017-07-17 22:56:55,789-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:56:55" order by id DESC;"
2017-07-17 22:57:05,008-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:57:05" order by id DESC;"
2017-07-17 22:57:07,228-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:57:07" order by id DESC;"
2017-07-17 22:57:08,520-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:57:08" order by id DESC;"
2017-07-17 22:57:09,775-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:57:09" order by id DESC;"
2017-07-17 22:57:54,038-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-07-17 22:57:54,041-[DEBUG]-common_func-common_func.py[line:41/online_app_list]-module_name_list : [{'app_name': u'app'}, {'app_name': u'mop'}]
2017-07-17 22:57:57,319-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:57:57" order by id DESC;"
2017-07-17 22:57:59,371-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 22:57:59" order by id DESC;"
2017-07-17 23:04:49,437-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-07-17 23:04:49,441-[DEBUG]-common_func-common_func.py[line:41/online_app_list]-module_name_list : [{'app_name': u'app'}, {'app_name': u'mop'}]
2017-07-17 23:04:52,728-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:04:52" order by id DESC;"
2017-07-17 23:04:55,002-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:04:55" order by id DESC;"
2017-07-17 23:04:56,205-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:04:56" order by id DESC;"
2017-07-17 23:04:57,203-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:04:57" order by id DESC;"
2017-07-17 23:07:00,813-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:07:00" order by id DESC;"
2017-07-17 23:07:05,532-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:07:05" order by id DESC;"
2017-07-17 23:07:07,264-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:07:07" order by id DESC;"
2017-07-17 23:07:35,314-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-07-17 23:07:35,317-[DEBUG]-common_func-common_func.py[line:41/online_app_list]-module_name_list : [{'app_name': u'app'}, {'app_name': u'mop'}]
2017-07-17 23:07:49,731-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:07:49" order by id DESC;"
2017-07-17 23:07:52,270-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:07:52" order by id DESC;"
2017-07-17 23:08:05,073-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-07-17 23:08:05,076-[DEBUG]-common_func-common_func.py[line:41/online_app_list]-module_name_list : [{'app_name': u'app'}, {'app_name': u'mop'}]
2017-07-17 23:08:08,796-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_ip from cmdb_online where app_name="app";"
2017-07-17 23:08:08,798-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select pub_app_version,pub_app_addr from pub_version_status where pub_app_name="app" and pub_app_version_status in ("packaged","publishing") order by id DESC limit 5;"
2017-07-17 23:08:08,806-[ERROR]-pub_opera-pub_operation.py[line:50/apps_ip_version]-The module app has not select its version
2017-07-17 23:08:15,996-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_ip from cmdb_online where app_name="mop";"
2017-07-17 23:08:15,998-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select pub_app_version,pub_app_addr from pub_version_status where pub_app_name="mop" and pub_app_version_status in ("packaged","publishing") order by id DESC limit 5;"
2017-07-17 23:08:16,000-[DEBUG]-pub_opera-pub_operation.py[line:52/apps_ip_version]-select_version: [u'mop-20170707444444.war', u'mop-20170607333333war', u'mop-20170507222222.war']
2017-07-17 23:08:16,001-[DEBUG]-pub_opera-pub_operation.py[line:53/apps_ip_version]-select_ips: [u'10.66.48.77', u'10.66.48.78']
2017-07-17 23:08:40,039-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select pub_app_addr from pub_version_status where pub_app_name="mop" AND pub_app_version="mop-20170507222222.war";"
2017-07-17 23:08:40,056-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select pub_app_name,pub_app_version,pub_app_addr from pub_version_status where pub_app_name="mop" and pub_app_version_status in ("publishing","using") order by id DESC limit 1;"
2017-07-17 23:08:40,059-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_ip from cmdb_online where app_name="mop";"
2017-07-17 23:08:40,061-[DEBUG]-pub_opera-pub_operation.py[line:185/pub_opera_shell]-pub command: /home/ops-v5/apps/../scripts/pub.sh mop 10.66.48.77 mop-20170507222222.war
2017-07-17 23:08:40,097-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update pub_version_status set pub_app_version_status='used' where pub_app_name='mop' AND pub_app_version='mop-20170407111111.war';"
2017-07-17 23:08:40,117-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update pub_version_status set pub_app_addr='10.66.48.77',pub_app_version_status='publishing' where pub_app_name='mop' AND pub_app_version='mop-20170507222222.war';"
2017-07-17 23:08:40,125-[DEBUG]-DB_mysql-mysql_exec.py[line:41/insert_sql]-insert_sql : "insert into pub_history_detail (app_ip_detail,app_opera_type,app_version_detail,app_name_detail,app_opera_detail,app_opera_status,opera_start_time) values("10.66.48.77","publish","mop-20170507222222.war","mop","/home/ops-v5/apps/../history/publish_mop-20170507222222_10.66.48.77_20170717230840.txt","publishing","2017-07-17 23:08:40");"
2017-07-17 23:08:40,131-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id from pub_history_detail where app_ip_detail="10.66.48.77" AND app_opera_type="publish" AND app_version_detail="mop-20170507222222.war" AND app_name_detail="mop";"
2017-07-17 23:08:54,941-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:08:54" order by id DESC;"
2017-07-17 23:09:04,739-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:09:04" order by id DESC;"
2017-07-17 23:12:01,073-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:12:01" order by id DESC;"
2017-07-17 23:12:04,331-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:12:04" order by id DESC;"
2017-07-17 23:12:24,577-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:12:24" order by id DESC;"
2017-07-17 23:12:31,847-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:12:31" order by id DESC;"
2017-07-17 23:12:34,145-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:12:34" order by id DESC;"
2017-07-17 23:12:36,599-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:12:36" order by id DESC;"
2017-07-17 23:12:38,481-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:12:38" order by id DESC;"
2017-07-17 23:13:37,649-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:13:37" order by id DESC;"
2017-07-17 23:13:41,119-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:13:41" order by id DESC;"
2017-07-17 23:13:43,196-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:13:43" order by id DESC;"
2017-07-17 23:13:44,462-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:13:44" order by id DESC;"
2017-07-17 23:13:45,922-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:13:45" order by id DESC;"
2017-07-17 23:13:47,382-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:13:47" order by id DESC;"
2017-07-17 23:13:48,862-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:13:48" order by id DESC;"
2017-07-17 23:13:50,257-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:13:50" order by id DESC;"
2017-07-17 23:13:51,661-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:13:51" order by id DESC;"
2017-07-17 23:13:52,926-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:13:52" order by id DESC;"
2017-07-17 23:13:54,391-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:13:54" order by id DESC;"
2017-07-17 23:13:55,792-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:13:55" order by id DESC;"
2017-07-17 23:17:05,677-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-07-17 23:17:05,680-[DEBUG]-common_func-common_func.py[line:41/online_app_list]-module_name_list : [{'app_name': u'app'}, {'app_name': u'mop'}]
2017-07-17 23:17:09,516-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_ip from cmdb_online where app_name="mop";"
2017-07-17 23:17:09,518-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select pub_app_version,pub_app_addr from pub_version_status where pub_app_name="mop" and pub_app_version_status in ("packaged","publishing") order by id DESC limit 5;"
2017-07-17 23:17:09,519-[DEBUG]-pub_opera-pub_operation.py[line:52/apps_ip_version]-select_version: [u'mop-20170707444444.war', u'mop-20170607333333war', u'mop-20170507222222.war']
2017-07-17 23:17:09,520-[DEBUG]-pub_opera-pub_operation.py[line:53/apps_ip_version]-select_ips: [u'10.66.48.77', u'10.66.48.78']
2017-07-17 23:17:13,865-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select pub_app_addr from pub_version_status where pub_app_name="mop" AND pub_app_version="mop-20170507222222.war";"
2017-07-17 23:17:13,868-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select pub_app_name,pub_app_version,pub_app_addr from pub_version_status where pub_app_name="mop" and pub_app_version_status in ("publishing","using") order by id DESC limit 1;"
2017-07-17 23:17:13,871-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_ip from cmdb_online where app_name="mop";"
2017-07-17 23:17:13,873-[DEBUG]-pub_opera-pub_operation.py[line:185/pub_opera_shell]-pub command: /home/ops-v5/apps/../scripts/pub.sh mop 10.66.48.78 mop-20170507222222.war
2017-07-17 23:17:13,883-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update pub_version_status set pub_app_addr='10.66.48.77;10.66.48.78',pub_app_version_status='using' where pub_app_name='mop' AND pub_app_version='mop-20170507222222.war';"
2017-07-17 23:17:13,903-[DEBUG]-DB_mysql-mysql_exec.py[line:41/insert_sql]-insert_sql : "insert into pub_history_detail (app_ip_detail,app_opera_type,app_version_detail,app_name_detail,app_opera_detail,app_opera_status,opera_start_time) values("10.66.48.78","publish","mop-20170507222222.war","mop","/home/ops-v5/apps/../history/publish_mop-20170507222222_10.66.48.78_20170717231713.txt","publishing","2017-07-17 23:17:13");"
2017-07-17 23:17:13,996-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id from pub_history_detail where app_ip_detail="10.66.48.78" AND app_opera_type="publish" AND app_version_detail="mop-20170507222222.war" AND app_name_detail="mop";"
2017-07-17 23:17:36,070-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update pub_history_detail set app_opera_status='Success',opera_end_time='2017-07-17 23:17:36' where id='49';"
2017-07-17 23:17:38,583-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,login_name,name_cn,password,mobile,email,role,status,last_login_time from users where login_name="admin";"
2017-07-17 23:17:38,588-[DEBUG]-users-users.py[line:63/user_login]-select_login_info:(11L, u'admin', u'\u8bf8\u845b\u5b54\u660e', u'4bfd3be6dbd0c6888250de0640ec5905', u'15811110333', u'111@111.com', 0, 0, u'2017-07-17 22:05:07')
2017-07-17 23:17:38,588-[DEBUG]-users-users.py[line:68/user_login]-select_login_info_dict:{'status': 0, 'login_name': u'admin', 'last_login_time': u'2017-07-17 22:05:07', 'mobile': u'15811110333', 'name_cn': u'\u8bf8\u845b\u5b54\u660e', 'id': 11L, 'role': 0, 'password': u'4bfd3be6dbd0c6888250de0640ec5905', 'email': u'111@111.com'}
2017-07-17 23:17:38,589-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update users set last_login_time='2017-07-17 23:17:38' where login_name='admin';"
2017-07-17 23:17:38,656-[INFO]-users-users.py[line:79/user_login]-"admin" login success
2017-07-17 23:17:39,856-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "SELECT TABLE_SCHEMA,TABLE_NAME,TABLE_ROWS FROM online_table_rows where UpdateTime like '2017-07-16%';"
2017-07-17 23:17:39,860-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "SELECT TABLE_SCHEMA,TABLE_NAME,TABLE_ROWS FROM online_table_rows where UpdateTime like '2017-07-17%';"
2017-07-17 23:17:43,583-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:17:43" order by id DESC;"
2017-07-17 23:18:22,917-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select pub_app_addr from pub_version_status where pub_app_name="mop" AND pub_app_version="mop-20170607333333war";"
2017-07-17 23:18:22,921-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select pub_app_name,pub_app_version,pub_app_addr from pub_version_status where pub_app_name="mop" and pub_app_version_status in ("publishing","using") order by id DESC limit 1;"
2017-07-17 23:18:22,927-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_ip from cmdb_online where app_name="mop";"
2017-07-17 23:18:22,930-[DEBUG]-pub_opera-pub_operation.py[line:185/pub_opera_shell]-pub command: /home/ops-v5/apps/../scripts/pub.sh mop 10.66.48.78 mop-20170607333333war
2017-07-17 23:18:22,958-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update pub_version_status set pub_app_version_status='used' where pub_app_name='mop' AND pub_app_version='mop-20170507222222.war';"
2017-07-17 23:18:22,976-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update pub_version_status set pub_app_addr='10.66.48.78',pub_app_version_status='publishing' where pub_app_name='mop' AND pub_app_version='mop-20170607333333war';"
2017-07-17 23:18:22,988-[DEBUG]-DB_mysql-mysql_exec.py[line:41/insert_sql]-insert_sql : "insert into pub_history_detail (app_ip_detail,app_opera_type,app_version_detail,app_name_detail,app_opera_detail,app_opera_status,opera_start_time) values("10.66.48.78","publish","mop-20170607333333war","mop","/home/ops-v5/apps/../history/publish_mop-20170607333333war_10.66.48.78_20170717231822.txt","publishing","2017-07-17 23:18:22");"
2017-07-17 23:18:22,993-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id from pub_history_detail where app_ip_detail="10.66.48.78" AND app_opera_type="publish" AND app_version_detail="mop-20170607333333war" AND app_name_detail="mop";"
2017-07-17 23:18:28,649-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:18:28" order by id DESC;"
2017-07-17 23:18:46,078-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update pub_history_detail set app_opera_status='Success',opera_end_time='2017-07-17 23:18:46' where id='50';"
2017-07-17 23:19:00,626-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:19:00" order by id DESC;"
2017-07-17 23:20:01,218-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select pub_app_addr from pub_version_status where pub_app_name="mop" AND pub_app_version="mop-20170607333333war";"
2017-07-17 23:20:01,222-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select pub_app_name,pub_app_version,pub_app_addr from pub_version_status where pub_app_name="mop" and pub_app_version_status in ("publishing","using") order by id DESC limit 1;"
2017-07-17 23:20:01,225-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_ip from cmdb_online where app_name="mop";"
2017-07-17 23:20:01,227-[DEBUG]-pub_opera-pub_operation.py[line:185/pub_opera_shell]-pub command: /home/ops-v5/apps/../scripts/pub.sh mop 10.66.48.77 mop-20170607333333war
2017-07-17 23:20:01,242-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update pub_version_status set pub_app_addr='10.66.48.78;10.66.48.77',pub_app_version_status='using' where pub_app_name='mop' AND pub_app_version='mop-20170607333333war';"
2017-07-17 23:20:01,276-[DEBUG]-DB_mysql-mysql_exec.py[line:41/insert_sql]-insert_sql : "insert into pub_history_detail (app_ip_detail,app_opera_type,app_version_detail,app_name_detail,app_opera_detail,app_opera_status,opera_start_time) values("10.66.48.77","publish","mop-20170607333333war","mop","/home/ops-v5/apps/../history/publish_mop-20170607333333war_10.66.48.77_20170717232001.txt","publishing","2017-07-17 23:20:01");"
2017-07-17 23:20:01,295-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id from pub_history_detail where app_ip_detail="10.66.48.77" AND app_opera_type="publish" AND app_version_detail="mop-20170607333333war" AND app_name_detail="mop";"
2017-07-17 23:20:01,303-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:20:01" order by id DESC;"
2017-07-17 23:21:22,788-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update pub_history_detail set app_opera_status='Success',opera_end_time='2017-07-17 23:21:22' where id='51';"
2017-07-17 23:21:22,816-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select pub_app_addr from pub_version_status where pub_app_name="mop" AND pub_app_version="mop-20170607333333war";"
2017-07-17 23:21:22,820-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select pub_app_name,pub_app_version,pub_app_addr from pub_version_status where pub_app_name="mop" and pub_app_version_status in ("publishing","using") order by id DESC limit 1;"
2017-07-17 23:21:22,822-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_ip from cmdb_online where app_name="mop";"
2017-07-17 23:21:22,825-[ERROR]-pub_opera-pub_operation.py[line:139/pub_opera_shell]-The IP 10.66.48.77 and version mop-20170607333333war already Published
2017-07-17 23:21:22,874-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update pub_history_detail set app_opera_status='Success',opera_end_time='2017-07-17 23:21:22' where id='51';"
2017-07-17 23:21:23,083-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update pub_history_detail set app_opera_status='Success',opera_end_time='2017-07-17 23:21:23' where id='51';"
2017-07-17 23:21:23,217-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update pub_history_detail set app_opera_status='Success',opera_end_time='2017-07-17 23:21:23' where id='51';"
2017-07-17 23:21:23,321-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update pub_history_detail set app_opera_status='Success',opera_end_time='2017-07-17 23:21:23' where id='51';"
2017-07-17 23:21:23,395-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:21:23" order by id DESC;"
2017-07-17 23:21:29,118-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:21:29" order by id DESC;"
2017-07-17 23:21:29,331-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-07-17 23:21:29,333-[DEBUG]-common_func-common_func.py[line:41/online_app_list]-module_name_list : [{'app_name': u'app'}, {'app_name': u'mop'}]
2017-07-17 23:21:29,515-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update pub_history_detail set app_opera_status='Success',opera_end_time='2017-07-17 23:21:29' where id='51';"
2017-07-17 23:21:29,691-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update pub_history_detail set app_opera_status='Success',opera_end_time='2017-07-17 23:21:29' where id='51';"
2017-07-17 23:21:29,799-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update pub_history_detail set app_opera_status='Success',opera_end_time='2017-07-17 23:21:29' where id='51';"
2017-07-17 23:21:29,852-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update pub_history_detail set app_opera_status='Success',opera_end_time='2017-07-17 23:21:29' where id='51';"
2017-07-17 23:21:29,943-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update pub_history_detail set app_opera_status='Success',opera_end_time='2017-07-17 23:21:29' where id='51';"
2017-07-17 23:22:56,470-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:22:56" order by id DESC;"
2017-07-17 23:22:56,481-[INFO]-users-users.py[line:182/user_logout]-User "admin" logout success
2017-07-17 23:22:56,486-[INFO]-users-users.py[line:182/user_logout]-User "admin" logout success
2017-07-17 23:22:56,512-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-07-17 23:22:56,515-[DEBUG]-common_func-common_func.py[line:41/online_app_list]-module_name_list : [{'app_name': u'app'}, {'app_name': u'mop'}]
2017-07-17 23:22:59,070-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-07-17 23:22:59,071-[DEBUG]-common_func-common_func.py[line:41/online_app_list]-module_name_list : [{'app_name': u'app'}, {'app_name': u'mop'}]
2017-07-17 23:26:35,464-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-07-17 23:26:35,467-[DEBUG]-common_func-common_func.py[line:41/online_app_list]-module_name_list : [{'app_name': u'app'}, {'app_name': u'mop'}]
2017-07-17 23:26:36,527-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-07-17 23:26:36,529-[DEBUG]-common_func-common_func.py[line:41/online_app_list]-module_name_list : [{'app_name': u'app'}, {'app_name': u'mop'}]
2017-07-17 23:26:37,402-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-07-17 23:26:37,410-[DEBUG]-common_func-common_func.py[line:41/online_app_list]-module_name_list : [{'app_name': u'app'}, {'app_name': u'mop'}]
2017-07-17 23:26:38,229-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-07-17 23:26:38,237-[DEBUG]-common_func-common_func.py[line:41/online_app_list]-module_name_list : [{'app_name': u'app'}, {'app_name': u'mop'}]
2017-07-17 23:27:46,676-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-07-17 23:27:46,689-[DEBUG]-common_func-common_func.py[line:41/online_app_list]-module_name_list : [{'app_name': u'app'}, {'app_name': u'mop'}]
2017-07-17 23:27:51,527-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-07-17 23:27:51,532-[DEBUG]-common_func-common_func.py[line:41/online_app_list]-module_name_list : [{'app_name': u'app'}, {'app_name': u'mop'}]
2017-07-17 23:27:52,697-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-07-17 23:27:52,700-[DEBUG]-common_func-common_func.py[line:41/online_app_list]-module_name_list : [{'app_name': u'app'}, {'app_name': u'mop'}]
2017-07-17 23:29:07,491-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-07-17 23:29:07,494-[DEBUG]-common_func-common_func.py[line:41/online_app_list]-module_name_list : [{'app_name': u'app'}, {'app_name': u'mop'}]
2017-07-17 23:29:09,059-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-07-17 23:29:09,075-[DEBUG]-common_func-common_func.py[line:41/online_app_list]-module_name_list : [{'app_name': u'app'}, {'app_name': u'mop'}]
2017-07-17 23:29:15,670-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_ip from cmdb_online where app_name="mop";"
2017-07-17 23:29:15,673-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select pub_app_version,pub_app_addr from pub_version_status where pub_app_name="mop" and pub_app_version_status in ("packaged","publishing") order by id DESC limit 5;"
2017-07-17 23:29:15,676-[DEBUG]-pub_opera-pub_operation.py[line:52/apps_ip_version]-select_version: [u'mop-20170707444444.war']
2017-07-17 23:29:15,676-[DEBUG]-pub_opera-pub_operation.py[line:53/apps_ip_version]-select_ips: [u'10.66.48.77', u'10.66.48.78']
2017-07-17 23:29:19,906-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select pub_app_addr from pub_version_status where pub_app_name="mop" AND pub_app_version="mop-20170707444444.war";"
2017-07-17 23:29:19,917-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select pub_app_name,pub_app_version,pub_app_addr from pub_version_status where pub_app_name="mop" and pub_app_version_status in ("publishing","using") order by id DESC limit 1;"
2017-07-17 23:29:19,922-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_ip from cmdb_online where app_name="mop";"
2017-07-17 23:29:19,928-[DEBUG]-pub_opera-pub_operation.py[line:185/pub_opera_shell]-pub command: /home/ops-v5/apps/../scripts/pub.sh mop 10.66.48.77 mop-20170707444444.war
2017-07-17 23:29:19,937-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update pub_version_status set pub_app_version_status='used' where pub_app_name='mop' AND pub_app_version='mop-20170607333333war';"
2017-07-17 23:29:19,944-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update pub_version_status set pub_app_addr='10.66.48.77',pub_app_version_status='publishing' where pub_app_name='mop' AND pub_app_version='mop-20170707444444.war';"
2017-07-17 23:29:19,973-[DEBUG]-DB_mysql-mysql_exec.py[line:41/insert_sql]-insert_sql : "insert into pub_history_detail (app_ip_detail,app_opera_type,app_version_detail,app_name_detail,app_opera_detail,app_opera_status,opera_start_time) values("10.66.48.77","publish","mop-20170707444444.war","mop","/home/ops-v5/apps/../history/publish_mop-20170707444444_10.66.48.77_20170717232919.txt","publishing","2017-07-17 23:29:19");"
2017-07-17 23:29:19,984-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id from pub_history_detail where app_ip_detail="10.66.48.77" AND app_opera_type="publish" AND app_version_detail="mop-20170707444444.war" AND app_name_detail="mop";"
2017-07-17 23:29:43,021-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update pub_history_detail set app_opera_status='Success',opera_end_time='2017-07-17 23:29:43' where id='52';"
2017-07-17 23:31:38,235-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-07-17 23:31:38,239-[DEBUG]-common_func-common_func.py[line:41/online_app_list]-module_name_list : [{'app_name': u'app'}, {'app_name': u'mop'}]
2017-07-17 23:31:39,227-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-07-17 23:31:39,229-[DEBUG]-common_func-common_func.py[line:41/online_app_list]-module_name_list : [{'app_name': u'app'}, {'app_name': u'mop'}]
2017-07-17 23:31:42,678-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_ip from cmdb_online where app_name="mop";"
2017-07-17 23:31:42,681-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select pub_app_version,pub_app_addr from pub_version_status where pub_app_name="mop" and pub_app_version_status in ("packaged","publishing") order by id DESC limit 5;"
2017-07-17 23:31:42,684-[DEBUG]-pub_opera-pub_operation.py[line:52/apps_ip_version]-select_version: [u'mop-20170707444444.war']
2017-07-17 23:31:42,688-[DEBUG]-pub_opera-pub_operation.py[line:53/apps_ip_version]-select_ips: [u'10.66.48.77', u'10.66.48.78']
2017-07-17 23:31:46,049-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select pub_app_addr from pub_version_status where pub_app_name="mop" AND pub_app_version="mop-20170707444444.war";"
2017-07-17 23:31:46,053-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select pub_app_name,pub_app_version,pub_app_addr from pub_version_status where pub_app_name="mop" and pub_app_version_status in ("publishing","using") order by id DESC limit 1;"
2017-07-17 23:31:46,059-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_ip from cmdb_online where app_name="mop";"
2017-07-17 23:31:46,062-[DEBUG]-pub_opera-pub_operation.py[line:185/pub_opera_shell]-pub command: /home/ops-v5/apps/../scripts/pub.sh mop 10.66.48.78 mop-20170707444444.war
2017-07-17 23:31:46,070-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update pub_version_status set pub_app_addr='10.66.48.77;10.66.48.78',pub_app_version_status='using' where pub_app_name='mop' AND pub_app_version='mop-20170707444444.war';"
2017-07-17 23:31:46,079-[DEBUG]-DB_mysql-mysql_exec.py[line:41/insert_sql]-insert_sql : "insert into pub_history_detail (app_ip_detail,app_opera_type,app_version_detail,app_name_detail,app_opera_detail,app_opera_status,opera_start_time) values("10.66.48.78","publish","mop-20170707444444.war","mop","/home/ops-v5/apps/../history/publish_mop-20170707444444_10.66.48.78_20170717233146.txt","publishing","2017-07-17 23:31:46");"
2017-07-17 23:31:46,094-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id from pub_history_detail where app_ip_detail="10.66.48.78" AND app_opera_type="publish" AND app_version_detail="mop-20170707444444.war" AND app_name_detail="mop";"
2017-07-17 23:32:09,127-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update pub_history_detail set app_opera_status='Success',opera_end_time='2017-07-17 23:32:09' where id='53';"
2017-07-17 23:34:39,656-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-07-17 23:34:39,657-[DEBUG]-common_func-common_func.py[line:41/online_app_list]-module_name_list : [{'app_name': u'app'}, {'app_name': u'mop'}]
2017-07-17 23:34:40,697-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-07-17 23:34:40,698-[DEBUG]-common_func-common_func.py[line:41/online_app_list]-module_name_list : [{'app_name': u'app'}, {'app_name': u'mop'}]
2017-07-17 23:34:43,604-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_ip from cmdb_online where app_name="mop";"
2017-07-17 23:34:43,610-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select pub_app_version,pub_app_addr from pub_version_status where pub_app_name="mop" and pub_app_version_status in ("packaged","publishing") order by id DESC limit 5;"
2017-07-17 23:34:43,616-[DEBUG]-pub_opera-pub_operation.py[line:52/apps_ip_version]-select_version: [u'mop-20170707444444.war']
2017-07-17 23:34:43,616-[DEBUG]-pub_opera-pub_operation.py[line:53/apps_ip_version]-select_ips: [u'10.66.48.77', u'10.66.48.78']
2017-07-17 23:34:47,416-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select pub_app_addr from pub_version_status where pub_app_name="mop" AND pub_app_version="mop-20170707444444.war";"
2017-07-17 23:34:47,418-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select pub_app_name,pub_app_version,pub_app_addr from pub_version_status where pub_app_name="mop" and pub_app_version_status in ("publishing","using") order by id DESC limit 1;"
2017-07-17 23:34:47,421-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_ip from cmdb_online where app_name="mop";"
2017-07-17 23:34:47,426-[DEBUG]-pub_opera-pub_operation.py[line:185/pub_opera_shell]-pub command: /home/ops-v5/apps/../scripts/pub.sh mop 10.66.48.77 mop-20170707444444.war
2017-07-17 23:34:47,437-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update pub_version_status set pub_app_version_status='used' where pub_app_name='mop' AND pub_app_version='mop-20170607333333war';"
2017-07-17 23:34:47,442-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update pub_version_status set pub_app_addr='10.66.48.77',pub_app_version_status='publishing' where pub_app_name='mop' AND pub_app_version='mop-20170707444444.war';"
2017-07-17 23:34:47,447-[DEBUG]-DB_mysql-mysql_exec.py[line:41/insert_sql]-insert_sql : "insert into pub_history_detail (app_ip_detail,app_opera_type,app_version_detail,app_name_detail,app_opera_detail,app_opera_status,opera_start_time) values("10.66.48.77","publish","mop-20170707444444.war","mop","/home/ops-v5/apps/../history/publish_mop-20170707444444_10.66.48.77_20170717233447.txt","publishing","2017-07-17 23:34:47");"
2017-07-17 23:34:47,455-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id from pub_history_detail where app_ip_detail="10.66.48.77" AND app_opera_type="publish" AND app_version_detail="mop-20170707444444.war" AND app_name_detail="mop";"
2017-07-17 23:35:10,488-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update pub_history_detail set app_opera_status='Success',opera_end_time='2017-07-17 23:35:10' where id='54';"
2017-07-17 23:35:32,629-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:35:32" order by id DESC;"
2017-07-17 23:35:37,083-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:35:37" order by id DESC;"
2017-07-17 23:35:37,963-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:35:37" order by id DESC;"
2017-07-17 23:37:13,135-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:37:13" order by id DESC;"
2017-07-17 23:37:13,953-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:37:13" order by id DESC;"
2017-07-17 23:37:14,112-[DEBUG]-DB_mysql-mysql_exec.py[line:94/general_sql]-select_sql : "select id,app_name_detail,app_version_detail,app_opera_type,app_ip_detail,app_opera_detail,app_opera_status,opera_start_time,opera_end_time from pub_history_detail where opera_start_time >= "2017-06-17 23:37:14" order by id DESC;"
2017-07-17 23:37:38,042-[INFO]-users-users.py[line:182/user_logout]-User "admin" logout success
