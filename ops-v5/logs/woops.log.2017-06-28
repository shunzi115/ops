2017-06-28 23:18:54,100-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,login_name,name_cn,password,mobile,email,role,status,last_login_time from users where login_name="bbb";"
2017-06-28 23:18:54,103-[DEBUG]-users-users.py[line:63/user_login]-select_login_info:(22L, u'bbb', u'\u5218\u5907', u'4bfd3be6dbd0c6888250de0640ec5905', u'15000001111', u'123@456.com', 3, 0, u'2017-06-28 22:04:16')
2017-06-28 23:18:54,104-[DEBUG]-users-users.py[line:68/user_login]-select_login_info_dict:{'status': 0, 'login_name': u'bbb', 'last_login_time': u'2017-06-28 22:04:16', 'mobile': u'15000001111', 'name_cn': u'\u5218\u5907', 'id': 22L, 'role': 3, 'password': u'4bfd3be6dbd0c6888250de0640ec5905', 'email': u'123@456.com'}
2017-06-28 23:18:54,104-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update users set last_login_time='2017-06-28 23:18:54' where login_name='bbb';"
2017-06-28 23:18:54,114-[INFO]-users-users.py[line:79/user_login]-"bbb" login success
2017-06-28 23:19:09,360-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-06-28 23:19:09,362-[DEBUG]-publish-workform_pub.py[line:22/pub_add]-module_name_list : [{'app_name': u'app'}, {'app_name': u'app-1'}, {'app_name': u'app-2'}, {'app_name': u'item'}, {'app_name': u'trade'}, {'app_name': u'trade-2'}]
2017-06-28 23:19:09,365-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,workform_type,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,pub_status,pub_audit_people,pub_submit_time,pub_done_time,pub_operation_people from publish_online ;"
2017-06-28 23:19:09,438-[DEBUG]-publish-workform_pub.py[line:62/pub_list]-pub_info_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-23 20:59:00', 'pub_level': u'non-emergency', 'pub_status': 6, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:34:41', 'id': 1L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-1', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:17:25', 'pub_level': u'non-emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:43:09', 'id': 3L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-2', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:01:48', 'pub_level': u'non-emergency', 'pub_status': 7, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:44:40', 'id': 13L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-mop', 'pub_content': u'bug \u63cf\u8ff0\uff1a\u7f51\u5173\u6302\u4e86\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170616232305.war\r\n\titem\uff1aitem_20170616232305.war', 'workform_type': u'publish', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-21 23:00:10', 'pub_level': u'emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'admin', 'pub_module': u'mop...item', 'pub_submit_time': u'2017-06-16 23:27:53', 'id': 14L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'pub_content': u'\u53d1\u5e03\u987a\u5e8f\uff1a\r\napp-1\r\napp-2', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u'update haha  set id=2;', 'pub_done_time': u'2017-06-25 21:26:07', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'pub_content': u'app \u4e0a\u7ebf\u540e\u7531\u4e8e app_key \u672a\u66f4\u65b0\u5bfc\u81f4\u670d\u52a1\u6302\u6389', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8', 'pub_content': u'\u968f\u4fbf\u53d1\u5427', 'workform_type': u'publish', 'pub_application_people': u'eee', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-28 22:43:31', 'id': 17L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u5475\u989d', 'pub_content': u'\u53d1\u5e03\u4e00\u4e0b\u5427', 'workform_type': u'publish', 'pub_application_people': u'fff', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:49:16', 'id': 18L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7', 'pub_content': u'\u560e\u5df4\uff0c\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade-2', 'pub_submit_time': u'2017-06-28 22:50:09', 'id': 19L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1ahehehhahaha', 'pub_content': u'\u5c31\u8fd9\u4e48\u505a\u5427\uff0c\u522b\u5bb3\u7f9e\u7231\u62a4', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 22:50:42', 'id': 20L}, {'pub_title': u'\u56de\u6eda\u7533\u8bf7\uff1a\u7cfb\u7edf\u6302\u4e86', 'pub_content': u'\u5feb\u70b9\u56de\u6eda\u5427\uff0c\u5426\u5219\u4e3e\u8981\u6eda\u86cb\u5566', 'workform_type': u'rollback', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 0, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:51:29', 'id': 21L}]
2017-06-28 23:19:09,446-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,workform_type,pub_status,pub_audit_people,pub_submit_time,audit_time,pub_done_time,pub_operation_people from publish_online where pub_application_people="bbb";"
2017-06-28 23:19:09,449-[DEBUG]-publish-workform_pub.py[line:77/pub_my]-pub_my_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-mop', 'pub_content': u'bug \u63cf\u8ff0\uff1a\u7f51\u5173\u6302\u4e86\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170616232305.war\r\n\titem\uff1aitem_20170616232305.war', 'workform_type': u'publish', 'pub_application_people': u'bbb', 'audit_time': u'2017-06-20 23:03:24', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-21 23:00:10', 'pub_level': u'emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'admin', 'pub_module': u'mop...item', 'pub_submit_time': u'2017-06-16 23:27:53', 'id': 14L}, {'pub_title': u'\u56de\u6edamop', 'pub_content': u'app \u4e0a\u7ebf\u540e\u7531\u4e8e app_key \u672a\u66f4\u65b0\u5bfc\u81f4\u670d\u52a1\u6302\u6389', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'audit_time': u'2017-06-27 22:28:58', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}]
2017-06-28 23:19:09,455-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_SQL,pub_application_people,workform_type,pub_status,pub_submit_time,pub_audit_people,audit_time from publish_online where pub_status="3";"
2017-06-28 23:19:09,457-[DEBUG]-publish-workform_pub.py[line:92/pub_audit]-pub_audit_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8', 'workform_type': u'publish', 'pub_application_people': u'eee', 'audit_time': None, 'pub_SQL': u'NO', 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_audit_people': None, 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-28 22:43:31', 'id': 17L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u5475\u989d', 'workform_type': u'publish', 'pub_application_people': u'fff', 'audit_time': None, 'pub_SQL': u'NO', 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:49:16', 'id': 18L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'audit_time': None, 'pub_SQL': u'NO', 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_audit_people': None, 'pub_module': u'trade-2', 'pub_submit_time': u'2017-06-28 22:50:09', 'id': 19L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1ahehehhahaha', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'audit_time': None, 'pub_SQL': u'NO', 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_audit_people': None, 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 22:50:42', 'id': 20L}]
2017-06-28 23:22:39,861-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-06-28 23:22:39,862-[DEBUG]-publish-workform_pub.py[line:22/pub_add]-module_name_list : [{'app_name': u'app'}, {'app_name': u'app-1'}, {'app_name': u'app-2'}, {'app_name': u'item'}, {'app_name': u'trade'}, {'app_name': u'trade-2'}]
2017-06-28 23:22:39,866-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,workform_type,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,pub_status,pub_audit_people,pub_submit_time,pub_done_time,pub_operation_people from publish_online ;"
2017-06-28 23:22:39,868-[DEBUG]-publish-workform_pub.py[line:62/pub_list]-pub_info_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-23 20:59:00', 'pub_level': u'non-emergency', 'pub_status': 6, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:34:41', 'id': 1L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-1', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:17:25', 'pub_level': u'non-emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:43:09', 'id': 3L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-2', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:01:48', 'pub_level': u'non-emergency', 'pub_status': 7, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:44:40', 'id': 13L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-mop', 'pub_content': u'bug \u63cf\u8ff0\uff1a\u7f51\u5173\u6302\u4e86\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170616232305.war\r\n\titem\uff1aitem_20170616232305.war', 'workform_type': u'publish', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-21 23:00:10', 'pub_level': u'emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'admin', 'pub_module': u'mop...item', 'pub_submit_time': u'2017-06-16 23:27:53', 'id': 14L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'pub_content': u'\u53d1\u5e03\u987a\u5e8f\uff1a\r\napp-1\r\napp-2', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u'update haha  set id=2;', 'pub_done_time': u'2017-06-25 21:26:07', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'pub_content': u'app \u4e0a\u7ebf\u540e\u7531\u4e8e app_key \u672a\u66f4\u65b0\u5bfc\u81f4\u670d\u52a1\u6302\u6389', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8', 'pub_content': u'\u968f\u4fbf\u53d1\u5427', 'workform_type': u'publish', 'pub_application_people': u'eee', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-28 22:43:31', 'id': 17L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u5475\u989d', 'pub_content': u'\u53d1\u5e03\u4e00\u4e0b\u5427', 'workform_type': u'publish', 'pub_application_people': u'fff', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:49:16', 'id': 18L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7', 'pub_content': u'\u560e\u5df4\uff0c\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade-2', 'pub_submit_time': u'2017-06-28 22:50:09', 'id': 19L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1ahehehhahaha', 'pub_content': u'\u5c31\u8fd9\u4e48\u505a\u5427\uff0c\u522b\u5bb3\u7f9e\u7231\u62a4', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 22:50:42', 'id': 20L}, {'pub_title': u'\u56de\u6eda\u7533\u8bf7\uff1a\u7cfb\u7edf\u6302\u4e86', 'pub_content': u'\u5feb\u70b9\u56de\u6eda\u5427\uff0c\u5426\u5219\u4e3e\u8981\u6eda\u86cb\u5566', 'workform_type': u'rollback', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 0, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:51:29', 'id': 21L}]
2017-06-28 23:22:39,874-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,workform_type,pub_status,pub_audit_people,pub_submit_time,audit_time,pub_done_time,pub_operation_people from publish_online where pub_application_people="bbb";"
2017-06-28 23:22:39,883-[DEBUG]-publish-workform_pub.py[line:77/pub_my]-pub_my_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-mop', 'pub_content': u'bug \u63cf\u8ff0\uff1a\u7f51\u5173\u6302\u4e86\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170616232305.war\r\n\titem\uff1aitem_20170616232305.war', 'workform_type': u'publish', 'pub_application_people': u'bbb', 'audit_time': u'2017-06-20 23:03:24', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-21 23:00:10', 'pub_level': u'emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'admin', 'pub_module': u'mop...item', 'pub_submit_time': u'2017-06-16 23:27:53', 'id': 14L}, {'pub_title': u'\u56de\u6edamop', 'pub_content': u'app \u4e0a\u7ebf\u540e\u7531\u4e8e app_key \u672a\u66f4\u65b0\u5bfc\u81f4\u670d\u52a1\u6302\u6389', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'audit_time': u'2017-06-27 22:28:58', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}]
2017-06-28 23:22:39,887-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_SQL,pub_application_people,workform_type,pub_status,pub_submit_time,pub_audit_people,audit_time from publish_online where pub_status="3";"
2017-06-28 23:22:39,889-[DEBUG]-publish-workform_pub.py[line:92/pub_audit]-pub_audit_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8', 'workform_type': u'publish', 'pub_application_people': u'eee', 'audit_time': None, 'pub_SQL': u'NO', 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_audit_people': None, 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-28 22:43:31', 'id': 17L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u5475\u989d', 'workform_type': u'publish', 'pub_application_people': u'fff', 'audit_time': None, 'pub_SQL': u'NO', 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:49:16', 'id': 18L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'audit_time': None, 'pub_SQL': u'NO', 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_audit_people': None, 'pub_module': u'trade-2', 'pub_submit_time': u'2017-06-28 22:50:09', 'id': 19L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1ahehehhahaha', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'audit_time': None, 'pub_SQL': u'NO', 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_audit_people': None, 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 22:50:42', 'id': 20L}]
2017-06-28 23:22:54,943-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,workform_type,pub_status,pub_submit_time,QA_audit,QA_audit_result,OPS_audit,OPS_pub_result from publish_online where id="20";"
2017-06-28 23:22:54,945-[DEBUG]-publish-workform_pub.py[line:137/pub_info]-pub_info_dict : {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1ahehehhahaha', 'pub_content': u'\u5c31\u8fd9\u4e48\u505a\u5427\uff0c\u522b\u5bb3\u7f9e\u7231\u62a4', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'OPS_audit': None, 'pub_SQL_detail': u'', 'OPS_pub_result': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'QA_audit_result': None, 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 22:50:42', 'id': 20L, 'QA_audit': None}
2017-06-28 23:23:07,699-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update publish_online set audit_time='2017-06-28 23:23:07',pub_status='1',QA_audit_result='YES',pub_audit_people='bbb',QA_audit='同意，去干吧' where id='20';"
2017-06-28 23:23:10,930-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-06-28 23:23:10,957-[DEBUG]-publish-workform_pub.py[line:22/pub_add]-module_name_list : [{'app_name': u'app'}, {'app_name': u'app-1'}, {'app_name': u'app-2'}, {'app_name': u'item'}, {'app_name': u'trade'}, {'app_name': u'trade-2'}]
2017-06-28 23:23:10,965-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,workform_type,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,pub_status,pub_audit_people,pub_submit_time,pub_done_time,pub_operation_people from publish_online ;"
2017-06-28 23:23:10,977-[DEBUG]-publish-workform_pub.py[line:62/pub_list]-pub_info_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-23 20:59:00', 'pub_level': u'non-emergency', 'pub_status': 6, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:34:41', 'id': 1L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-1', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:17:25', 'pub_level': u'non-emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:43:09', 'id': 3L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-2', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:01:48', 'pub_level': u'non-emergency', 'pub_status': 7, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:44:40', 'id': 13L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-mop', 'pub_content': u'bug \u63cf\u8ff0\uff1a\u7f51\u5173\u6302\u4e86\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170616232305.war\r\n\titem\uff1aitem_20170616232305.war', 'workform_type': u'publish', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-21 23:00:10', 'pub_level': u'emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'admin', 'pub_module': u'mop...item', 'pub_submit_time': u'2017-06-16 23:27:53', 'id': 14L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'pub_content': u'\u53d1\u5e03\u987a\u5e8f\uff1a\r\napp-1\r\napp-2', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u'update haha  set id=2;', 'pub_done_time': u'2017-06-25 21:26:07', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'pub_content': u'app \u4e0a\u7ebf\u540e\u7531\u4e8e app_key \u672a\u66f4\u65b0\u5bfc\u81f4\u670d\u52a1\u6302\u6389', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8', 'pub_content': u'\u968f\u4fbf\u53d1\u5427', 'workform_type': u'publish', 'pub_application_people': u'eee', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-28 22:43:31', 'id': 17L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u5475\u989d', 'pub_content': u'\u53d1\u5e03\u4e00\u4e0b\u5427', 'workform_type': u'publish', 'pub_application_people': u'fff', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:49:16', 'id': 18L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7', 'pub_content': u'\u560e\u5df4\uff0c\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade-2', 'pub_submit_time': u'2017-06-28 22:50:09', 'id': 19L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1ahehehhahaha', 'pub_content': u'\u5c31\u8fd9\u4e48\u505a\u5427\uff0c\u522b\u5bb3\u7f9e\u7231\u62a4', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 22:50:42', 'id': 20L}, {'pub_title': u'\u56de\u6eda\u7533\u8bf7\uff1a\u7cfb\u7edf\u6302\u4e86', 'pub_content': u'\u5feb\u70b9\u56de\u6eda\u5427\uff0c\u5426\u5219\u4e3e\u8981\u6eda\u86cb\u5566', 'workform_type': u'rollback', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 0, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:51:29', 'id': 21L}]
2017-06-28 23:23:10,982-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,workform_type,pub_status,pub_audit_people,pub_submit_time,audit_time,pub_done_time,pub_operation_people from publish_online where pub_application_people="bbb";"
2017-06-28 23:23:10,984-[DEBUG]-publish-workform_pub.py[line:77/pub_my]-pub_my_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-mop', 'pub_content': u'bug \u63cf\u8ff0\uff1a\u7f51\u5173\u6302\u4e86\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170616232305.war\r\n\titem\uff1aitem_20170616232305.war', 'workform_type': u'publish', 'pub_application_people': u'bbb', 'audit_time': u'2017-06-20 23:03:24', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-21 23:00:10', 'pub_level': u'emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'admin', 'pub_module': u'mop...item', 'pub_submit_time': u'2017-06-16 23:27:53', 'id': 14L}, {'pub_title': u'\u56de\u6edamop', 'pub_content': u'app \u4e0a\u7ebf\u540e\u7531\u4e8e app_key \u672a\u66f4\u65b0\u5bfc\u81f4\u670d\u52a1\u6302\u6389', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'audit_time': u'2017-06-27 22:28:58', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}]
2017-06-28 23:23:10,987-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_SQL,pub_application_people,workform_type,pub_status,pub_submit_time,pub_audit_people,audit_time from publish_online where pub_status="3";"
2017-06-28 23:23:10,989-[DEBUG]-publish-workform_pub.py[line:92/pub_audit]-pub_audit_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8', 'workform_type': u'publish', 'pub_application_people': u'eee', 'audit_time': None, 'pub_SQL': u'NO', 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_audit_people': None, 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-28 22:43:31', 'id': 17L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u5475\u989d', 'workform_type': u'publish', 'pub_application_people': u'fff', 'audit_time': None, 'pub_SQL': u'NO', 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:49:16', 'id': 18L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'audit_time': None, 'pub_SQL': u'NO', 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_audit_people': None, 'pub_module': u'trade-2', 'pub_submit_time': u'2017-06-28 22:50:09', 'id': 19L}]
2017-06-28 23:23:59,441-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,workform_type,pub_status,pub_submit_time,QA_audit,QA_audit_result,OPS_audit,OPS_pub_result from publish_online where id="16";"
2017-06-28 23:23:59,444-[DEBUG]-publish-workform_pub.py[line:137/pub_info]-pub_info_dict : {'pub_title': u'\u56de\u6edamop', 'pub_content': u'app \u4e0a\u7ebf\u540e\u7531\u4e8e app_key \u672a\u66f4\u65b0\u5bfc\u81f4\u670d\u52a1\u6302\u6389', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'OPS_audit': None, 'pub_SQL_detail': u'', 'OPS_pub_result': None, 'pub_level': u'emergency', 'pub_status': 1, 'QA_audit_result': u'YES', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L, 'QA_audit': u'\u5e72\u5427'}
2017-06-28 23:24:22,600-[INFO]-users-users.py[line:182/user_logout]-User "bbb" logout success
2017-06-28 23:24:29,945-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,login_name,name_cn,password,mobile,email,role,status,last_login_time from users where login_name="ddd";"
2017-06-28 23:24:29,948-[DEBUG]-users-users.py[line:63/user_login]-select_login_info:(24L, u'ddd', u'\u5f20\u98de', u'4bfd3be6dbd0c6888250de0640ec5905', u'15100003333', u'789@789.com', 1, 0, u'2017-06-27 22:30:11')
2017-06-28 23:24:29,948-[DEBUG]-users-users.py[line:68/user_login]-select_login_info_dict:{'status': 0, 'login_name': u'ddd', 'last_login_time': u'2017-06-27 22:30:11', 'mobile': u'15100003333', 'name_cn': u'\u5f20\u98de', 'id': 24L, 'role': 1, 'password': u'4bfd3be6dbd0c6888250de0640ec5905', 'email': u'789@789.com'}
2017-06-28 23:24:29,949-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update users set last_login_time='2017-06-28 23:24:29' where login_name='ddd';"
2017-06-28 23:24:29,953-[INFO]-users-users.py[line:79/user_login]-"ddd" login success
2017-06-28 23:24:36,333-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-06-28 23:24:36,336-[DEBUG]-publish-workform_pub.py[line:22/pub_add]-module_name_list : [{'app_name': u'app'}, {'app_name': u'app-1'}, {'app_name': u'app-2'}, {'app_name': u'item'}, {'app_name': u'trade'}, {'app_name': u'trade-2'}]
2017-06-28 23:24:36,349-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,workform_type,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,pub_status,pub_audit_people,pub_submit_time,pub_done_time,pub_operation_people from publish_online ;"
2017-06-28 23:24:36,351-[DEBUG]-publish-workform_pub.py[line:62/pub_list]-pub_info_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-23 20:59:00', 'pub_level': u'non-emergency', 'pub_status': 6, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:34:41', 'id': 1L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-1', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:17:25', 'pub_level': u'non-emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:43:09', 'id': 3L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-2', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:01:48', 'pub_level': u'non-emergency', 'pub_status': 7, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:44:40', 'id': 13L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-mop', 'pub_content': u'bug \u63cf\u8ff0\uff1a\u7f51\u5173\u6302\u4e86\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170616232305.war\r\n\titem\uff1aitem_20170616232305.war', 'workform_type': u'publish', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-21 23:00:10', 'pub_level': u'emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'admin', 'pub_module': u'mop...item', 'pub_submit_time': u'2017-06-16 23:27:53', 'id': 14L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'pub_content': u'\u53d1\u5e03\u987a\u5e8f\uff1a\r\napp-1\r\napp-2', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u'update haha  set id=2;', 'pub_done_time': u'2017-06-25 21:26:07', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'pub_content': u'app \u4e0a\u7ebf\u540e\u7531\u4e8e app_key \u672a\u66f4\u65b0\u5bfc\u81f4\u670d\u52a1\u6302\u6389', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8', 'pub_content': u'\u968f\u4fbf\u53d1\u5427', 'workform_type': u'publish', 'pub_application_people': u'eee', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-28 22:43:31', 'id': 17L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u5475\u989d', 'pub_content': u'\u53d1\u5e03\u4e00\u4e0b\u5427', 'workform_type': u'publish', 'pub_application_people': u'fff', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:49:16', 'id': 18L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7', 'pub_content': u'\u560e\u5df4\uff0c\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade-2', 'pub_submit_time': u'2017-06-28 22:50:09', 'id': 19L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1ahehehhahaha', 'pub_content': u'\u5c31\u8fd9\u4e48\u505a\u5427\uff0c\u522b\u5bb3\u7f9e\u7231\u62a4', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 22:50:42', 'id': 20L}, {'pub_title': u'\u56de\u6eda\u7533\u8bf7\uff1a\u7cfb\u7edf\u6302\u4e86', 'pub_content': u'\u5feb\u70b9\u56de\u6eda\u5427\uff0c\u5426\u5219\u4e3e\u8981\u6eda\u86cb\u5566', 'workform_type': u'rollback', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 0, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:51:29', 'id': 21L}]
2017-06-28 23:24:36,357-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,workform_type,pub_status,pub_audit_people,pub_submit_time,audit_time,pub_done_time,pub_operation_people from publish_online where pub_application_people="ddd";"
2017-06-28 23:24:36,503-[DEBUG]-publish-workform_pub.py[line:77/pub_my]-pub_my_list : []
2017-06-28 23:24:36,507-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_SQL,pub_application_people,workform_type,pub_status,pub_submit_time,pub_audit_people,audit_time from publish_online where pub_status="1";"
2017-06-28 23:24:36,509-[DEBUG]-publish-workform_pub.py[line:92/pub_audit]-pub_audit_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'admin', 'audit_time': u'2017-06-27 22:22:32', 'pub_SQL': u'YES', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'audit_time': u'2017-06-27 22:28:58', 'pub_SQL': u'NO', 'pub_level': u'emergency', 'pub_status': 1, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1ahehehhahaha', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'audit_time': u'2017-06-28 23:23:07', 'pub_SQL': u'NO', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_audit_people': u'bbb', 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 22:50:42', 'id': 20L}]
2017-06-28 23:25:14,342-[DEBUG]-publish-workform_pub.py[line:29/pub_add]-pub_info:{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u54c8\u54c8', 'pub_content': u'\u4f60\u662f\u6700\u68d2\u7684', 'workform_type': u'publish', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_level': u'non-emergency', 'pub_module': u'trade'}
2017-06-28 23:25:14,343-[DEBUG]-DB_mysql-mysql_exec.py[line:41/insert_sql]-insert_sql : "insert into publish_online (pub_title,pub_content,workform_type,pub_application_people,pub_SQL,pub_SQL_detail,pub_level,pub_status,pub_module,pub_submit_time) values("发布申请：呵呵哈哈","你是最棒的","publish","ddd","NO","","non-emergency","3","trade","2017-06-28 23:25:14");"
2017-06-28 23:25:14,348-[INFO]-publish-workform_pub.py[line:52/pub_add]-"发布申请：呵呵哈哈" submit successful
2017-06-28 23:25:16,193-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-06-28 23:25:16,198-[DEBUG]-publish-workform_pub.py[line:22/pub_add]-module_name_list : [{'app_name': u'app'}, {'app_name': u'app-1'}, {'app_name': u'app-2'}, {'app_name': u'item'}, {'app_name': u'trade'}, {'app_name': u'trade-2'}]
2017-06-28 23:25:16,204-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,workform_type,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,pub_status,pub_audit_people,pub_submit_time,pub_done_time,pub_operation_people from publish_online ;"
2017-06-28 23:25:16,207-[DEBUG]-publish-workform_pub.py[line:62/pub_list]-pub_info_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-23 20:59:00', 'pub_level': u'non-emergency', 'pub_status': 6, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:34:41', 'id': 1L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-1', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:17:25', 'pub_level': u'non-emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:43:09', 'id': 3L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-2', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:01:48', 'pub_level': u'non-emergency', 'pub_status': 7, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:44:40', 'id': 13L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-mop', 'pub_content': u'bug \u63cf\u8ff0\uff1a\u7f51\u5173\u6302\u4e86\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170616232305.war\r\n\titem\uff1aitem_20170616232305.war', 'workform_type': u'publish', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-21 23:00:10', 'pub_level': u'emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'admin', 'pub_module': u'mop...item', 'pub_submit_time': u'2017-06-16 23:27:53', 'id': 14L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'pub_content': u'\u53d1\u5e03\u987a\u5e8f\uff1a\r\napp-1\r\napp-2', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u'update haha  set id=2;', 'pub_done_time': u'2017-06-25 21:26:07', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'pub_content': u'app \u4e0a\u7ebf\u540e\u7531\u4e8e app_key \u672a\u66f4\u65b0\u5bfc\u81f4\u670d\u52a1\u6302\u6389', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8', 'pub_content': u'\u968f\u4fbf\u53d1\u5427', 'workform_type': u'publish', 'pub_application_people': u'eee', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-28 22:43:31', 'id': 17L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u5475\u989d', 'pub_content': u'\u53d1\u5e03\u4e00\u4e0b\u5427', 'workform_type': u'publish', 'pub_application_people': u'fff', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:49:16', 'id': 18L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7', 'pub_content': u'\u560e\u5df4\uff0c\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade-2', 'pub_submit_time': u'2017-06-28 22:50:09', 'id': 19L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1ahehehhahaha', 'pub_content': u'\u5c31\u8fd9\u4e48\u505a\u5427\uff0c\u522b\u5bb3\u7f9e\u7231\u62a4', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 22:50:42', 'id': 20L}, {'pub_title': u'\u56de\u6eda\u7533\u8bf7\uff1a\u7cfb\u7edf\u6302\u4e86', 'pub_content': u'\u5feb\u70b9\u56de\u6eda\u5427\uff0c\u5426\u5219\u4e3e\u8981\u6eda\u86cb\u5566', 'workform_type': u'rollback', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 0, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:51:29', 'id': 21L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u54c8\u54c8', 'pub_content': u'\u4f60\u662f\u6700\u68d2\u7684', 'workform_type': u'publish', 'pub_application_people': u'ddd', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 23:25:14', 'id': 22L}]
2017-06-28 23:25:16,211-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,workform_type,pub_status,pub_audit_people,pub_submit_time,audit_time,pub_done_time,pub_operation_people from publish_online where pub_application_people="ddd";"
2017-06-28 23:25:16,215-[DEBUG]-publish-workform_pub.py[line:77/pub_my]-pub_my_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u54c8\u54c8', 'pub_content': u'\u4f60\u662f\u6700\u68d2\u7684', 'workform_type': u'publish', 'pub_application_people': u'ddd', 'audit_time': None, 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 23:25:14', 'id': 22L}]
2017-06-28 23:25:16,218-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_SQL,pub_application_people,workform_type,pub_status,pub_submit_time,pub_audit_people,audit_time from publish_online where pub_status="1";"
2017-06-28 23:25:16,304-[DEBUG]-publish-workform_pub.py[line:92/pub_audit]-pub_audit_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'admin', 'audit_time': u'2017-06-27 22:22:32', 'pub_SQL': u'YES', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'audit_time': u'2017-06-27 22:28:58', 'pub_SQL': u'NO', 'pub_level': u'emergency', 'pub_status': 1, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1ahehehhahaha', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'audit_time': u'2017-06-28 23:23:07', 'pub_SQL': u'NO', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_audit_people': u'bbb', 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 22:50:42', 'id': 20L}]
2017-06-28 23:25:34,958-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,workform_type,pub_status,pub_submit_time,QA_audit,QA_audit_result,OPS_audit,OPS_pub_result from publish_online where id="20";"
2017-06-28 23:25:34,961-[DEBUG]-publish-workform_pub.py[line:137/pub_info]-pub_info_dict : {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1ahehehhahaha', 'pub_content': u'\u5c31\u8fd9\u4e48\u505a\u5427\uff0c\u522b\u5bb3\u7f9e\u7231\u62a4', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'OPS_audit': None, 'pub_SQL_detail': u'', 'OPS_pub_result': None, 'pub_level': u'non-emergency', 'pub_status': 1, 'QA_audit_result': u'YES', 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 22:50:42', 'id': 20L, 'QA_audit': u'\u540c\u610f\uff0c\u53bb\u5e72\u5427'}
2017-06-28 23:25:52,176-[DEBUG]-DB_mysql-mysql_exec.py[line:53/update_sql]-update_sql : "update publish_online set OPS_audit='做对很好',pub_done_time='2017-06-28 23:25:52',OPS_pub_result='YES',pub_status='5',pub_operation_people='ddd' where id='20';"
2017-06-28 23:25:54,009-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-06-28 23:25:54,044-[DEBUG]-publish-workform_pub.py[line:22/pub_add]-module_name_list : [{'app_name': u'app'}, {'app_name': u'app-1'}, {'app_name': u'app-2'}, {'app_name': u'item'}, {'app_name': u'trade'}, {'app_name': u'trade-2'}]
2017-06-28 23:25:54,066-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,workform_type,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,pub_status,pub_audit_people,pub_submit_time,pub_done_time,pub_operation_people from publish_online ;"
2017-06-28 23:25:54,069-[DEBUG]-publish-workform_pub.py[line:62/pub_list]-pub_info_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-23 20:59:00', 'pub_level': u'non-emergency', 'pub_status': 6, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:34:41', 'id': 1L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-1', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:17:25', 'pub_level': u'non-emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:43:09', 'id': 3L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-2', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:01:48', 'pub_level': u'non-emergency', 'pub_status': 7, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:44:40', 'id': 13L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-mop', 'pub_content': u'bug \u63cf\u8ff0\uff1a\u7f51\u5173\u6302\u4e86\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170616232305.war\r\n\titem\uff1aitem_20170616232305.war', 'workform_type': u'publish', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-21 23:00:10', 'pub_level': u'emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'admin', 'pub_module': u'mop...item', 'pub_submit_time': u'2017-06-16 23:27:53', 'id': 14L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'pub_content': u'\u53d1\u5e03\u987a\u5e8f\uff1a\r\napp-1\r\napp-2', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u'update haha  set id=2;', 'pub_done_time': u'2017-06-25 21:26:07', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'pub_content': u'app \u4e0a\u7ebf\u540e\u7531\u4e8e app_key \u672a\u66f4\u65b0\u5bfc\u81f4\u670d\u52a1\u6302\u6389', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8', 'pub_content': u'\u968f\u4fbf\u53d1\u5427', 'workform_type': u'publish', 'pub_application_people': u'eee', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-28 22:43:31', 'id': 17L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u5475\u989d', 'pub_content': u'\u53d1\u5e03\u4e00\u4e0b\u5427', 'workform_type': u'publish', 'pub_application_people': u'fff', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:49:16', 'id': 18L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7', 'pub_content': u'\u560e\u5df4\uff0c\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade-2', 'pub_submit_time': u'2017-06-28 22:50:09', 'id': 19L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1ahehehhahaha', 'pub_content': u'\u5c31\u8fd9\u4e48\u505a\u5427\uff0c\u522b\u5bb3\u7f9e\u7231\u62a4', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-28 23:25:52', 'pub_level': u'non-emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 22:50:42', 'id': 20L}, {'pub_title': u'\u56de\u6eda\u7533\u8bf7\uff1a\u7cfb\u7edf\u6302\u4e86', 'pub_content': u'\u5feb\u70b9\u56de\u6eda\u5427\uff0c\u5426\u5219\u4e3e\u8981\u6eda\u86cb\u5566', 'workform_type': u'rollback', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 0, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:51:29', 'id': 21L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u54c8\u54c8', 'pub_content': u'\u4f60\u662f\u6700\u68d2\u7684', 'workform_type': u'publish', 'pub_application_people': u'ddd', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 23:25:14', 'id': 22L}]
2017-06-28 23:25:54,081-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,workform_type,pub_status,pub_audit_people,pub_submit_time,audit_time,pub_done_time,pub_operation_people from publish_online where pub_application_people="ddd";"
2017-06-28 23:25:54,083-[DEBUG]-publish-workform_pub.py[line:77/pub_my]-pub_my_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u54c8\u54c8', 'pub_content': u'\u4f60\u662f\u6700\u68d2\u7684', 'workform_type': u'publish', 'pub_application_people': u'ddd', 'audit_time': None, 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 23:25:14', 'id': 22L}]
2017-06-28 23:25:54,092-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_SQL,pub_application_people,workform_type,pub_status,pub_submit_time,pub_audit_people,audit_time from publish_online where pub_status="1";"
2017-06-28 23:25:54,095-[DEBUG]-publish-workform_pub.py[line:92/pub_audit]-pub_audit_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'admin', 'audit_time': u'2017-06-27 22:22:32', 'pub_SQL': u'YES', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'audit_time': u'2017-06-27 22:28:58', 'pub_SQL': u'NO', 'pub_level': u'emergency', 'pub_status': 1, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}]
2017-06-28 23:26:01,974-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,workform_type,pub_status,pub_submit_time,QA_audit,QA_audit_result,OPS_audit,OPS_pub_result from publish_online where id="20";"
2017-06-28 23:26:01,976-[DEBUG]-publish-workform_pub.py[line:137/pub_info]-pub_info_dict : {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1ahehehhahaha', 'pub_content': u'\u5c31\u8fd9\u4e48\u505a\u5427\uff0c\u522b\u5bb3\u7f9e\u7231\u62a4', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'OPS_audit': u'\u505a\u5bf9\u5f88\u597d', 'pub_SQL_detail': u'', 'OPS_pub_result': u'YES', 'pub_level': u'non-emergency', 'pub_status': 5, 'QA_audit_result': u'YES', 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 22:50:42', 'id': 20L, 'QA_audit': u'\u540c\u610f\uff0c\u53bb\u5e72\u5427'}
2017-06-28 23:26:50,340-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,workform_type,pub_status,pub_submit_time,QA_audit,QA_audit_result,OPS_audit,OPS_pub_result from publish_online where id="16";"
2017-06-28 23:26:50,342-[DEBUG]-publish-workform_pub.py[line:137/pub_info]-pub_info_dict : {'pub_title': u'\u56de\u6edamop', 'pub_content': u'app \u4e0a\u7ebf\u540e\u7531\u4e8e app_key \u672a\u66f4\u65b0\u5bfc\u81f4\u670d\u52a1\u6302\u6389', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'OPS_audit': None, 'pub_SQL_detail': u'', 'OPS_pub_result': None, 'pub_level': u'emergency', 'pub_status': 1, 'QA_audit_result': u'YES', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L, 'QA_audit': u'\u5e72\u5427'}
2017-06-28 23:29:18,339-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-06-28 23:29:18,343-[DEBUG]-publish-workform_pub.py[line:22/pub_add]-module_name_list : [{'app_name': u'app'}, {'app_name': u'app-1'}, {'app_name': u'app-2'}, {'app_name': u'item'}, {'app_name': u'trade'}, {'app_name': u'trade-2'}]
2017-06-28 23:29:18,346-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,workform_type,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,pub_status,pub_audit_people,pub_submit_time,pub_done_time,pub_operation_people from publish_online ;"
2017-06-28 23:29:18,474-[DEBUG]-publish-workform_pub.py[line:62/pub_list]-pub_info_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-23 20:59:00', 'pub_level': u'non-emergency', 'pub_status': 6, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:34:41', 'id': 1L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-1', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:17:25', 'pub_level': u'non-emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:43:09', 'id': 3L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-2', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:01:48', 'pub_level': u'non-emergency', 'pub_status': 7, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:44:40', 'id': 13L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-mop', 'pub_content': u'bug \u63cf\u8ff0\uff1a\u7f51\u5173\u6302\u4e86\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170616232305.war\r\n\titem\uff1aitem_20170616232305.war', 'workform_type': u'publish', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-21 23:00:10', 'pub_level': u'emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'admin', 'pub_module': u'mop...item', 'pub_submit_time': u'2017-06-16 23:27:53', 'id': 14L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'pub_content': u'\u53d1\u5e03\u987a\u5e8f\uff1a\r\napp-1\r\napp-2', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u'update haha  set id=2;', 'pub_done_time': u'2017-06-25 21:26:07', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'pub_content': u'app \u4e0a\u7ebf\u540e\u7531\u4e8e app_key \u672a\u66f4\u65b0\u5bfc\u81f4\u670d\u52a1\u6302\u6389', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8', 'pub_content': u'\u968f\u4fbf\u53d1\u5427', 'workform_type': u'publish', 'pub_application_people': u'eee', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-28 22:43:31', 'id': 17L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u5475\u989d', 'pub_content': u'\u53d1\u5e03\u4e00\u4e0b\u5427', 'workform_type': u'publish', 'pub_application_people': u'fff', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:49:16', 'id': 18L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7', 'pub_content': u'\u560e\u5df4\uff0c\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade-2', 'pub_submit_time': u'2017-06-28 22:50:09', 'id': 19L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1ahehehhahaha', 'pub_content': u'\u5c31\u8fd9\u4e48\u505a\u5427\uff0c\u522b\u5bb3\u7f9e\u7231\u62a4', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-28 23:25:52', 'pub_level': u'non-emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 22:50:42', 'id': 20L}, {'pub_title': u'\u56de\u6eda\u7533\u8bf7\uff1a\u7cfb\u7edf\u6302\u4e86', 'pub_content': u'\u5feb\u70b9\u56de\u6eda\u5427\uff0c\u5426\u5219\u4e3e\u8981\u6eda\u86cb\u5566', 'workform_type': u'rollback', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 0, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:51:29', 'id': 21L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u54c8\u54c8', 'pub_content': u'\u4f60\u662f\u6700\u68d2\u7684', 'workform_type': u'publish', 'pub_application_people': u'ddd', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 23:25:14', 'id': 22L}]
2017-06-28 23:29:18,479-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,workform_type,pub_status,pub_audit_people,pub_submit_time,audit_time,pub_done_time,pub_operation_people from publish_online where pub_application_people="ddd";"
2017-06-28 23:29:18,482-[DEBUG]-publish-workform_pub.py[line:77/pub_my]-pub_my_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u54c8\u54c8', 'pub_content': u'\u4f60\u662f\u6700\u68d2\u7684', 'workform_type': u'publish', 'pub_application_people': u'ddd', 'audit_time': None, 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 23:25:14', 'id': 22L}]
2017-06-28 23:29:18,485-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_SQL,pub_application_people,workform_type,pub_status,pub_submit_time,pub_audit_people,audit_time from publish_online where pub_status="1";"
2017-06-28 23:29:18,487-[DEBUG]-publish-workform_pub.py[line:92/pub_audit]-pub_audit_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'admin', 'audit_time': u'2017-06-27 22:22:32', 'pub_SQL': u'YES', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'audit_time': u'2017-06-27 22:28:58', 'pub_SQL': u'NO', 'pub_level': u'emergency', 'pub_status': 1, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}]
2017-06-28 23:29:19,413-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-06-28 23:29:19,415-[DEBUG]-publish-workform_pub.py[line:22/pub_add]-module_name_list : [{'app_name': u'app'}, {'app_name': u'app-1'}, {'app_name': u'app-2'}, {'app_name': u'item'}, {'app_name': u'trade'}, {'app_name': u'trade-2'}]
2017-06-28 23:29:19,418-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,workform_type,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,pub_status,pub_audit_people,pub_submit_time,pub_done_time,pub_operation_people from publish_online ;"
2017-06-28 23:29:19,420-[DEBUG]-publish-workform_pub.py[line:62/pub_list]-pub_info_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-23 20:59:00', 'pub_level': u'non-emergency', 'pub_status': 6, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:34:41', 'id': 1L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-1', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:17:25', 'pub_level': u'non-emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:43:09', 'id': 3L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-2', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:01:48', 'pub_level': u'non-emergency', 'pub_status': 7, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:44:40', 'id': 13L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-mop', 'pub_content': u'bug \u63cf\u8ff0\uff1a\u7f51\u5173\u6302\u4e86\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170616232305.war\r\n\titem\uff1aitem_20170616232305.war', 'workform_type': u'publish', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-21 23:00:10', 'pub_level': u'emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'admin', 'pub_module': u'mop...item', 'pub_submit_time': u'2017-06-16 23:27:53', 'id': 14L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'pub_content': u'\u53d1\u5e03\u987a\u5e8f\uff1a\r\napp-1\r\napp-2', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u'update haha  set id=2;', 'pub_done_time': u'2017-06-25 21:26:07', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'pub_content': u'app \u4e0a\u7ebf\u540e\u7531\u4e8e app_key \u672a\u66f4\u65b0\u5bfc\u81f4\u670d\u52a1\u6302\u6389', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8', 'pub_content': u'\u968f\u4fbf\u53d1\u5427', 'workform_type': u'publish', 'pub_application_people': u'eee', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-28 22:43:31', 'id': 17L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u5475\u989d', 'pub_content': u'\u53d1\u5e03\u4e00\u4e0b\u5427', 'workform_type': u'publish', 'pub_application_people': u'fff', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:49:16', 'id': 18L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7', 'pub_content': u'\u560e\u5df4\uff0c\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade-2', 'pub_submit_time': u'2017-06-28 22:50:09', 'id': 19L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1ahehehhahaha', 'pub_content': u'\u5c31\u8fd9\u4e48\u505a\u5427\uff0c\u522b\u5bb3\u7f9e\u7231\u62a4', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-28 23:25:52', 'pub_level': u'non-emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 22:50:42', 'id': 20L}, {'pub_title': u'\u56de\u6eda\u7533\u8bf7\uff1a\u7cfb\u7edf\u6302\u4e86', 'pub_content': u'\u5feb\u70b9\u56de\u6eda\u5427\uff0c\u5426\u5219\u4e3e\u8981\u6eda\u86cb\u5566', 'workform_type': u'rollback', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 0, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:51:29', 'id': 21L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u54c8\u54c8', 'pub_content': u'\u4f60\u662f\u6700\u68d2\u7684', 'workform_type': u'publish', 'pub_application_people': u'ddd', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 23:25:14', 'id': 22L}]
2017-06-28 23:29:19,424-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,workform_type,pub_status,pub_audit_people,pub_submit_time,audit_time,pub_done_time,pub_operation_people from publish_online where pub_application_people="ddd";"
2017-06-28 23:29:19,426-[DEBUG]-publish-workform_pub.py[line:77/pub_my]-pub_my_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u54c8\u54c8', 'pub_content': u'\u4f60\u662f\u6700\u68d2\u7684', 'workform_type': u'publish', 'pub_application_people': u'ddd', 'audit_time': None, 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 23:25:14', 'id': 22L}]
2017-06-28 23:29:19,540-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_SQL,pub_application_people,workform_type,pub_status,pub_submit_time,pub_audit_people,audit_time from publish_online where pub_status="1";"
2017-06-28 23:29:19,542-[DEBUG]-publish-workform_pub.py[line:92/pub_audit]-pub_audit_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'admin', 'audit_time': u'2017-06-27 22:22:32', 'pub_SQL': u'YES', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'audit_time': u'2017-06-27 22:28:58', 'pub_SQL': u'NO', 'pub_level': u'emergency', 'pub_status': 1, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}]
2017-06-28 23:29:29,809-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-06-28 23:29:29,811-[DEBUG]-publish-workform_pub.py[line:22/pub_add]-module_name_list : [{'app_name': u'app'}, {'app_name': u'app-1'}, {'app_name': u'app-2'}, {'app_name': u'item'}, {'app_name': u'trade'}, {'app_name': u'trade-2'}]
2017-06-28 23:29:29,814-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,workform_type,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,pub_status,pub_audit_people,pub_submit_time,pub_done_time,pub_operation_people from publish_online ;"
2017-06-28 23:29:29,817-[DEBUG]-publish-workform_pub.py[line:62/pub_list]-pub_info_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-23 20:59:00', 'pub_level': u'non-emergency', 'pub_status': 6, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:34:41', 'id': 1L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-1', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:17:25', 'pub_level': u'non-emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:43:09', 'id': 3L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-2', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:01:48', 'pub_level': u'non-emergency', 'pub_status': 7, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:44:40', 'id': 13L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-mop', 'pub_content': u'bug \u63cf\u8ff0\uff1a\u7f51\u5173\u6302\u4e86\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170616232305.war\r\n\titem\uff1aitem_20170616232305.war', 'workform_type': u'publish', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-21 23:00:10', 'pub_level': u'emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'admin', 'pub_module': u'mop...item', 'pub_submit_time': u'2017-06-16 23:27:53', 'id': 14L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'pub_content': u'\u53d1\u5e03\u987a\u5e8f\uff1a\r\napp-1\r\napp-2', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u'update haha  set id=2;', 'pub_done_time': u'2017-06-25 21:26:07', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'pub_content': u'app \u4e0a\u7ebf\u540e\u7531\u4e8e app_key \u672a\u66f4\u65b0\u5bfc\u81f4\u670d\u52a1\u6302\u6389', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8', 'pub_content': u'\u968f\u4fbf\u53d1\u5427', 'workform_type': u'publish', 'pub_application_people': u'eee', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-28 22:43:31', 'id': 17L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u5475\u989d', 'pub_content': u'\u53d1\u5e03\u4e00\u4e0b\u5427', 'workform_type': u'publish', 'pub_application_people': u'fff', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:49:16', 'id': 18L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7', 'pub_content': u'\u560e\u5df4\uff0c\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade-2', 'pub_submit_time': u'2017-06-28 22:50:09', 'id': 19L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1ahehehhahaha', 'pub_content': u'\u5c31\u8fd9\u4e48\u505a\u5427\uff0c\u522b\u5bb3\u7f9e\u7231\u62a4', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-28 23:25:52', 'pub_level': u'non-emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 22:50:42', 'id': 20L}, {'pub_title': u'\u56de\u6eda\u7533\u8bf7\uff1a\u7cfb\u7edf\u6302\u4e86', 'pub_content': u'\u5feb\u70b9\u56de\u6eda\u5427\uff0c\u5426\u5219\u4e3e\u8981\u6eda\u86cb\u5566', 'workform_type': u'rollback', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 0, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:51:29', 'id': 21L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u54c8\u54c8', 'pub_content': u'\u4f60\u662f\u6700\u68d2\u7684', 'workform_type': u'publish', 'pub_application_people': u'ddd', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 23:25:14', 'id': 22L}]
2017-06-28 23:29:29,823-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,workform_type,pub_status,pub_audit_people,pub_submit_time,audit_time,pub_done_time,pub_operation_people from publish_online where pub_application_people="ddd";"
2017-06-28 23:29:29,825-[DEBUG]-publish-workform_pub.py[line:77/pub_my]-pub_my_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u54c8\u54c8', 'pub_content': u'\u4f60\u662f\u6700\u68d2\u7684', 'workform_type': u'publish', 'pub_application_people': u'ddd', 'audit_time': None, 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 23:25:14', 'id': 22L}]
2017-06-28 23:29:29,829-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_SQL,pub_application_people,workform_type,pub_status,pub_submit_time,pub_audit_people,audit_time from publish_online where pub_status="1";"
2017-06-28 23:29:29,831-[DEBUG]-publish-workform_pub.py[line:92/pub_audit]-pub_audit_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'admin', 'audit_time': u'2017-06-27 22:22:32', 'pub_SQL': u'YES', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'audit_time': u'2017-06-27 22:28:58', 'pub_SQL': u'NO', 'pub_level': u'emergency', 'pub_status': 1, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}]
2017-06-28 23:29:32,125-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_SQL,pub_application_people,workform_type,pub_status,pub_submit_time,pub_audit_people,audit_time from publish_online where pub_status="1";"
2017-06-28 23:29:32,127-[DEBUG]-publish-workform_pub.py[line:92/pub_audit]-pub_audit_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'admin', 'audit_time': u'2017-06-27 22:22:32', 'pub_SQL': u'YES', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'audit_time': u'2017-06-27 22:28:58', 'pub_SQL': u'NO', 'pub_level': u'emergency', 'pub_status': 1, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}]
2017-06-28 23:29:37,098-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-06-28 23:29:37,100-[DEBUG]-publish-workform_pub.py[line:22/pub_add]-module_name_list : [{'app_name': u'app'}, {'app_name': u'app-1'}, {'app_name': u'app-2'}, {'app_name': u'item'}, {'app_name': u'trade'}, {'app_name': u'trade-2'}]
2017-06-28 23:29:37,107-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,workform_type,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,pub_status,pub_audit_people,pub_submit_time,pub_done_time,pub_operation_people from publish_online ;"
2017-06-28 23:29:37,112-[DEBUG]-publish-workform_pub.py[line:62/pub_list]-pub_info_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-23 20:59:00', 'pub_level': u'non-emergency', 'pub_status': 6, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:34:41', 'id': 1L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-1', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:17:25', 'pub_level': u'non-emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:43:09', 'id': 3L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-2', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:01:48', 'pub_level': u'non-emergency', 'pub_status': 7, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:44:40', 'id': 13L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-mop', 'pub_content': u'bug \u63cf\u8ff0\uff1a\u7f51\u5173\u6302\u4e86\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170616232305.war\r\n\titem\uff1aitem_20170616232305.war', 'workform_type': u'publish', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-21 23:00:10', 'pub_level': u'emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'admin', 'pub_module': u'mop...item', 'pub_submit_time': u'2017-06-16 23:27:53', 'id': 14L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'pub_content': u'\u53d1\u5e03\u987a\u5e8f\uff1a\r\napp-1\r\napp-2', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u'update haha  set id=2;', 'pub_done_time': u'2017-06-25 21:26:07', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'pub_content': u'app \u4e0a\u7ebf\u540e\u7531\u4e8e app_key \u672a\u66f4\u65b0\u5bfc\u81f4\u670d\u52a1\u6302\u6389', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8', 'pub_content': u'\u968f\u4fbf\u53d1\u5427', 'workform_type': u'publish', 'pub_application_people': u'eee', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-28 22:43:31', 'id': 17L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u5475\u989d', 'pub_content': u'\u53d1\u5e03\u4e00\u4e0b\u5427', 'workform_type': u'publish', 'pub_application_people': u'fff', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:49:16', 'id': 18L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7', 'pub_content': u'\u560e\u5df4\uff0c\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade-2', 'pub_submit_time': u'2017-06-28 22:50:09', 'id': 19L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1ahehehhahaha', 'pub_content': u'\u5c31\u8fd9\u4e48\u505a\u5427\uff0c\u522b\u5bb3\u7f9e\u7231\u62a4', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-28 23:25:52', 'pub_level': u'non-emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 22:50:42', 'id': 20L}, {'pub_title': u'\u56de\u6eda\u7533\u8bf7\uff1a\u7cfb\u7edf\u6302\u4e86', 'pub_content': u'\u5feb\u70b9\u56de\u6eda\u5427\uff0c\u5426\u5219\u4e3e\u8981\u6eda\u86cb\u5566', 'workform_type': u'rollback', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 0, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:51:29', 'id': 21L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u54c8\u54c8', 'pub_content': u'\u4f60\u662f\u6700\u68d2\u7684', 'workform_type': u'publish', 'pub_application_people': u'ddd', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 23:25:14', 'id': 22L}]
2017-06-28 23:29:37,118-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,workform_type,pub_status,pub_audit_people,pub_submit_time,audit_time,pub_done_time,pub_operation_people from publish_online where pub_application_people="ddd";"
2017-06-28 23:29:37,123-[DEBUG]-publish-workform_pub.py[line:77/pub_my]-pub_my_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u54c8\u54c8', 'pub_content': u'\u4f60\u662f\u6700\u68d2\u7684', 'workform_type': u'publish', 'pub_application_people': u'ddd', 'audit_time': None, 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 23:25:14', 'id': 22L}]
2017-06-28 23:29:37,126-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_SQL,pub_application_people,workform_type,pub_status,pub_submit_time,pub_audit_people,audit_time from publish_online where pub_status="1";"
2017-06-28 23:29:37,164-[DEBUG]-publish-workform_pub.py[line:92/pub_audit]-pub_audit_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'admin', 'audit_time': u'2017-06-27 22:22:32', 'pub_SQL': u'YES', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'audit_time': u'2017-06-27 22:28:58', 'pub_SQL': u'NO', 'pub_level': u'emergency', 'pub_status': 1, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}]
2017-06-28 23:30:40,313-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-06-28 23:30:40,317-[DEBUG]-publish-workform_pub.py[line:22/pub_add]-module_name_list : [{'app_name': u'app'}, {'app_name': u'app-1'}, {'app_name': u'app-2'}, {'app_name': u'item'}, {'app_name': u'trade'}, {'app_name': u'trade-2'}]
2017-06-28 23:30:40,320-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,workform_type,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,pub_status,pub_audit_people,pub_submit_time,pub_done_time,pub_operation_people from publish_online ;"
2017-06-28 23:30:40,344-[DEBUG]-publish-workform_pub.py[line:62/pub_list]-pub_info_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-23 20:59:00', 'pub_level': u'non-emergency', 'pub_status': 6, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:34:41', 'id': 1L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-1', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:17:25', 'pub_level': u'non-emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:43:09', 'id': 3L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-2', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:01:48', 'pub_level': u'non-emergency', 'pub_status': 7, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:44:40', 'id': 13L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-mop', 'pub_content': u'bug \u63cf\u8ff0\uff1a\u7f51\u5173\u6302\u4e86\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170616232305.war\r\n\titem\uff1aitem_20170616232305.war', 'workform_type': u'publish', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-21 23:00:10', 'pub_level': u'emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'admin', 'pub_module': u'mop...item', 'pub_submit_time': u'2017-06-16 23:27:53', 'id': 14L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'pub_content': u'\u53d1\u5e03\u987a\u5e8f\uff1a\r\napp-1\r\napp-2', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u'update haha  set id=2;', 'pub_done_time': u'2017-06-25 21:26:07', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'pub_content': u'app \u4e0a\u7ebf\u540e\u7531\u4e8e app_key \u672a\u66f4\u65b0\u5bfc\u81f4\u670d\u52a1\u6302\u6389', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8', 'pub_content': u'\u968f\u4fbf\u53d1\u5427', 'workform_type': u'publish', 'pub_application_people': u'eee', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-28 22:43:31', 'id': 17L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u5475\u989d', 'pub_content': u'\u53d1\u5e03\u4e00\u4e0b\u5427', 'workform_type': u'publish', 'pub_application_people': u'fff', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:49:16', 'id': 18L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7', 'pub_content': u'\u560e\u5df4\uff0c\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade-2', 'pub_submit_time': u'2017-06-28 22:50:09', 'id': 19L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1ahehehhahaha', 'pub_content': u'\u5c31\u8fd9\u4e48\u505a\u5427\uff0c\u522b\u5bb3\u7f9e\u7231\u62a4', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-28 23:25:52', 'pub_level': u'non-emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 22:50:42', 'id': 20L}, {'pub_title': u'\u56de\u6eda\u7533\u8bf7\uff1a\u7cfb\u7edf\u6302\u4e86', 'pub_content': u'\u5feb\u70b9\u56de\u6eda\u5427\uff0c\u5426\u5219\u4e3e\u8981\u6eda\u86cb\u5566', 'workform_type': u'rollback', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 0, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:51:29', 'id': 21L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u54c8\u54c8', 'pub_content': u'\u4f60\u662f\u6700\u68d2\u7684', 'workform_type': u'publish', 'pub_application_people': u'ddd', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 23:25:14', 'id': 22L}]
2017-06-28 23:30:40,348-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,workform_type,pub_status,pub_audit_people,pub_submit_time,audit_time,pub_done_time,pub_operation_people from publish_online where pub_application_people="ddd";"
2017-06-28 23:30:40,351-[DEBUG]-publish-workform_pub.py[line:77/pub_my]-pub_my_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u54c8\u54c8', 'pub_content': u'\u4f60\u662f\u6700\u68d2\u7684', 'workform_type': u'publish', 'pub_application_people': u'ddd', 'audit_time': None, 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 23:25:14', 'id': 22L}]
2017-06-28 23:30:40,354-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_SQL,pub_application_people,workform_type,pub_status,pub_submit_time,pub_audit_people,audit_time from publish_online where pub_status="1";"
2017-06-28 23:30:40,357-[DEBUG]-publish-workform_pub.py[line:92/pub_audit]-pub_audit_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'admin', 'audit_time': u'2017-06-27 22:22:32', 'pub_SQL': u'YES', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'audit_time': u'2017-06-27 22:28:58', 'pub_SQL': u'NO', 'pub_level': u'emergency', 'pub_status': 1, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}]
2017-06-28 23:33:02,798-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-06-28 23:33:02,804-[DEBUG]-publish-workform_pub.py[line:22/pub_add]-module_name_list : [{'app_name': u'app'}, {'app_name': u'app-1'}, {'app_name': u'app-2'}, {'app_name': u'item'}, {'app_name': u'trade'}, {'app_name': u'trade-2'}]
2017-06-28 23:33:02,889-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,workform_type,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,pub_status,pub_audit_people,pub_submit_time,pub_done_time,pub_operation_people from publish_online ;"
2017-06-28 23:33:02,892-[DEBUG]-publish-workform_pub.py[line:62/pub_list]-pub_info_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-23 20:59:00', 'pub_level': u'non-emergency', 'pub_status': 6, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:34:41', 'id': 1L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-1', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:17:25', 'pub_level': u'non-emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:43:09', 'id': 3L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-2', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:01:48', 'pub_level': u'non-emergency', 'pub_status': 7, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:44:40', 'id': 13L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-mop', 'pub_content': u'bug \u63cf\u8ff0\uff1a\u7f51\u5173\u6302\u4e86\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170616232305.war\r\n\titem\uff1aitem_20170616232305.war', 'workform_type': u'publish', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-21 23:00:10', 'pub_level': u'emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'admin', 'pub_module': u'mop...item', 'pub_submit_time': u'2017-06-16 23:27:53', 'id': 14L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'pub_content': u'\u53d1\u5e03\u987a\u5e8f\uff1a\r\napp-1\r\napp-2', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u'update haha  set id=2;', 'pub_done_time': u'2017-06-25 21:26:07', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'pub_content': u'app \u4e0a\u7ebf\u540e\u7531\u4e8e app_key \u672a\u66f4\u65b0\u5bfc\u81f4\u670d\u52a1\u6302\u6389', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8', 'pub_content': u'\u968f\u4fbf\u53d1\u5427', 'workform_type': u'publish', 'pub_application_people': u'eee', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-28 22:43:31', 'id': 17L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u5475\u989d', 'pub_content': u'\u53d1\u5e03\u4e00\u4e0b\u5427', 'workform_type': u'publish', 'pub_application_people': u'fff', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:49:16', 'id': 18L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7', 'pub_content': u'\u560e\u5df4\uff0c\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade-2', 'pub_submit_time': u'2017-06-28 22:50:09', 'id': 19L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1ahehehhahaha', 'pub_content': u'\u5c31\u8fd9\u4e48\u505a\u5427\uff0c\u522b\u5bb3\u7f9e\u7231\u62a4', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-28 23:25:52', 'pub_level': u'non-emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 22:50:42', 'id': 20L}, {'pub_title': u'\u56de\u6eda\u7533\u8bf7\uff1a\u7cfb\u7edf\u6302\u4e86', 'pub_content': u'\u5feb\u70b9\u56de\u6eda\u5427\uff0c\u5426\u5219\u4e3e\u8981\u6eda\u86cb\u5566', 'workform_type': u'rollback', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 0, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:51:29', 'id': 21L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u54c8\u54c8', 'pub_content': u'\u4f60\u662f\u6700\u68d2\u7684', 'workform_type': u'publish', 'pub_application_people': u'ddd', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 23:25:14', 'id': 22L}]
2017-06-28 23:33:02,922-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,workform_type,pub_status,pub_audit_people,pub_submit_time,audit_time,pub_done_time,pub_operation_people from publish_online where pub_application_people="ddd";"
2017-06-28 23:33:02,924-[DEBUG]-publish-workform_pub.py[line:77/pub_my]-pub_my_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u54c8\u54c8', 'pub_content': u'\u4f60\u662f\u6700\u68d2\u7684', 'workform_type': u'publish', 'pub_application_people': u'ddd', 'audit_time': None, 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 23:25:14', 'id': 22L}]
2017-06-28 23:33:02,929-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_SQL,pub_application_people,workform_type,pub_status,pub_submit_time,pub_audit_people,audit_time from publish_online where pub_status="1";"
2017-06-28 23:33:02,931-[DEBUG]-publish-workform_pub.py[line:92/pub_audit]-pub_audit_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'admin', 'audit_time': u'2017-06-27 22:22:32', 'pub_SQL': u'YES', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'audit_time': u'2017-06-27 22:28:58', 'pub_SQL': u'NO', 'pub_level': u'emergency', 'pub_status': 1, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}]
2017-06-28 23:33:04,155-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-06-28 23:33:04,157-[DEBUG]-publish-workform_pub.py[line:22/pub_add]-module_name_list : [{'app_name': u'app'}, {'app_name': u'app-1'}, {'app_name': u'app-2'}, {'app_name': u'item'}, {'app_name': u'trade'}, {'app_name': u'trade-2'}]
2017-06-28 23:33:04,160-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,workform_type,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,pub_status,pub_audit_people,pub_submit_time,pub_done_time,pub_operation_people from publish_online ;"
2017-06-28 23:33:04,163-[DEBUG]-publish-workform_pub.py[line:62/pub_list]-pub_info_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-23 20:59:00', 'pub_level': u'non-emergency', 'pub_status': 6, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:34:41', 'id': 1L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-1', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:17:25', 'pub_level': u'non-emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:43:09', 'id': 3L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-2', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:01:48', 'pub_level': u'non-emergency', 'pub_status': 7, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:44:40', 'id': 13L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-mop', 'pub_content': u'bug \u63cf\u8ff0\uff1a\u7f51\u5173\u6302\u4e86\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170616232305.war\r\n\titem\uff1aitem_20170616232305.war', 'workform_type': u'publish', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-21 23:00:10', 'pub_level': u'emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'admin', 'pub_module': u'mop...item', 'pub_submit_time': u'2017-06-16 23:27:53', 'id': 14L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'pub_content': u'\u53d1\u5e03\u987a\u5e8f\uff1a\r\napp-1\r\napp-2', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u'update haha  set id=2;', 'pub_done_time': u'2017-06-25 21:26:07', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'pub_content': u'app \u4e0a\u7ebf\u540e\u7531\u4e8e app_key \u672a\u66f4\u65b0\u5bfc\u81f4\u670d\u52a1\u6302\u6389', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8', 'pub_content': u'\u968f\u4fbf\u53d1\u5427', 'workform_type': u'publish', 'pub_application_people': u'eee', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-28 22:43:31', 'id': 17L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u5475\u989d', 'pub_content': u'\u53d1\u5e03\u4e00\u4e0b\u5427', 'workform_type': u'publish', 'pub_application_people': u'fff', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:49:16', 'id': 18L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7', 'pub_content': u'\u560e\u5df4\uff0c\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade-2', 'pub_submit_time': u'2017-06-28 22:50:09', 'id': 19L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1ahehehhahaha', 'pub_content': u'\u5c31\u8fd9\u4e48\u505a\u5427\uff0c\u522b\u5bb3\u7f9e\u7231\u62a4', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-28 23:25:52', 'pub_level': u'non-emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 22:50:42', 'id': 20L}, {'pub_title': u'\u56de\u6eda\u7533\u8bf7\uff1a\u7cfb\u7edf\u6302\u4e86', 'pub_content': u'\u5feb\u70b9\u56de\u6eda\u5427\uff0c\u5426\u5219\u4e3e\u8981\u6eda\u86cb\u5566', 'workform_type': u'rollback', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 0, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:51:29', 'id': 21L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u54c8\u54c8', 'pub_content': u'\u4f60\u662f\u6700\u68d2\u7684', 'workform_type': u'publish', 'pub_application_people': u'ddd', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 23:25:14', 'id': 22L}]
2017-06-28 23:33:04,167-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,workform_type,pub_status,pub_audit_people,pub_submit_time,audit_time,pub_done_time,pub_operation_people from publish_online where pub_application_people="ddd";"
2017-06-28 23:33:04,169-[DEBUG]-publish-workform_pub.py[line:77/pub_my]-pub_my_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u54c8\u54c8', 'pub_content': u'\u4f60\u662f\u6700\u68d2\u7684', 'workform_type': u'publish', 'pub_application_people': u'ddd', 'audit_time': None, 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 23:25:14', 'id': 22L}]
2017-06-28 23:33:04,173-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_SQL,pub_application_people,workform_type,pub_status,pub_submit_time,pub_audit_people,audit_time from publish_online where pub_status="1";"
2017-06-28 23:33:04,175-[DEBUG]-publish-workform_pub.py[line:92/pub_audit]-pub_audit_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'admin', 'audit_time': u'2017-06-27 22:22:32', 'pub_SQL': u'YES', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'audit_time': u'2017-06-27 22:28:58', 'pub_SQL': u'NO', 'pub_level': u'emergency', 'pub_status': 1, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}]
2017-06-28 23:33:08,579-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-06-28 23:33:08,580-[DEBUG]-publish-workform_pub.py[line:22/pub_add]-module_name_list : [{'app_name': u'app'}, {'app_name': u'app-1'}, {'app_name': u'app-2'}, {'app_name': u'item'}, {'app_name': u'trade'}, {'app_name': u'trade-2'}]
2017-06-28 23:33:08,583-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,workform_type,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,pub_status,pub_audit_people,pub_submit_time,pub_done_time,pub_operation_people from publish_online ;"
2017-06-28 23:33:08,586-[DEBUG]-publish-workform_pub.py[line:62/pub_list]-pub_info_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-23 20:59:00', 'pub_level': u'non-emergency', 'pub_status': 6, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:34:41', 'id': 1L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-1', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:17:25', 'pub_level': u'non-emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:43:09', 'id': 3L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-2', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:01:48', 'pub_level': u'non-emergency', 'pub_status': 7, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:44:40', 'id': 13L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-mop', 'pub_content': u'bug \u63cf\u8ff0\uff1a\u7f51\u5173\u6302\u4e86\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170616232305.war\r\n\titem\uff1aitem_20170616232305.war', 'workform_type': u'publish', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-21 23:00:10', 'pub_level': u'emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'admin', 'pub_module': u'mop...item', 'pub_submit_time': u'2017-06-16 23:27:53', 'id': 14L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'pub_content': u'\u53d1\u5e03\u987a\u5e8f\uff1a\r\napp-1\r\napp-2', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u'update haha  set id=2;', 'pub_done_time': u'2017-06-25 21:26:07', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'pub_content': u'app \u4e0a\u7ebf\u540e\u7531\u4e8e app_key \u672a\u66f4\u65b0\u5bfc\u81f4\u670d\u52a1\u6302\u6389', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8', 'pub_content': u'\u968f\u4fbf\u53d1\u5427', 'workform_type': u'publish', 'pub_application_people': u'eee', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-28 22:43:31', 'id': 17L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u5475\u989d', 'pub_content': u'\u53d1\u5e03\u4e00\u4e0b\u5427', 'workform_type': u'publish', 'pub_application_people': u'fff', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:49:16', 'id': 18L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7', 'pub_content': u'\u560e\u5df4\uff0c\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade-2', 'pub_submit_time': u'2017-06-28 22:50:09', 'id': 19L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1ahehehhahaha', 'pub_content': u'\u5c31\u8fd9\u4e48\u505a\u5427\uff0c\u522b\u5bb3\u7f9e\u7231\u62a4', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-28 23:25:52', 'pub_level': u'non-emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 22:50:42', 'id': 20L}, {'pub_title': u'\u56de\u6eda\u7533\u8bf7\uff1a\u7cfb\u7edf\u6302\u4e86', 'pub_content': u'\u5feb\u70b9\u56de\u6eda\u5427\uff0c\u5426\u5219\u4e3e\u8981\u6eda\u86cb\u5566', 'workform_type': u'rollback', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 0, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:51:29', 'id': 21L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u54c8\u54c8', 'pub_content': u'\u4f60\u662f\u6700\u68d2\u7684', 'workform_type': u'publish', 'pub_application_people': u'ddd', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 23:25:14', 'id': 22L}]
2017-06-28 23:33:08,592-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,workform_type,pub_status,pub_audit_people,pub_submit_time,audit_time,pub_done_time,pub_operation_people from publish_online where pub_application_people="ddd";"
2017-06-28 23:33:08,594-[DEBUG]-publish-workform_pub.py[line:77/pub_my]-pub_my_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u54c8\u54c8', 'pub_content': u'\u4f60\u662f\u6700\u68d2\u7684', 'workform_type': u'publish', 'pub_application_people': u'ddd', 'audit_time': None, 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 23:25:14', 'id': 22L}]
2017-06-28 23:33:08,598-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_SQL,pub_application_people,workform_type,pub_status,pub_submit_time,pub_audit_people,audit_time from publish_online where pub_status="1";"
2017-06-28 23:33:08,600-[DEBUG]-publish-workform_pub.py[line:92/pub_audit]-pub_audit_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'admin', 'audit_time': u'2017-06-27 22:22:32', 'pub_SQL': u'YES', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'audit_time': u'2017-06-27 22:28:58', 'pub_SQL': u'NO', 'pub_level': u'emergency', 'pub_status': 1, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}]
2017-06-28 23:34:11,811-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-06-28 23:34:11,813-[DEBUG]-publish-workform_pub.py[line:22/pub_add]-module_name_list : [{'app_name': u'app'}, {'app_name': u'app-1'}, {'app_name': u'app-2'}, {'app_name': u'item'}, {'app_name': u'trade'}, {'app_name': u'trade-2'}]
2017-06-28 23:34:11,816-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,workform_type,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,pub_status,pub_audit_people,pub_submit_time,pub_done_time,pub_operation_people from publish_online ;"
2017-06-28 23:34:11,819-[DEBUG]-publish-workform_pub.py[line:62/pub_list]-pub_info_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-23 20:59:00', 'pub_level': u'non-emergency', 'pub_status': 6, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:34:41', 'id': 1L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-1', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:17:25', 'pub_level': u'non-emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:43:09', 'id': 3L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-2', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:01:48', 'pub_level': u'non-emergency', 'pub_status': 7, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:44:40', 'id': 13L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-mop', 'pub_content': u'bug \u63cf\u8ff0\uff1a\u7f51\u5173\u6302\u4e86\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170616232305.war\r\n\titem\uff1aitem_20170616232305.war', 'workform_type': u'publish', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-21 23:00:10', 'pub_level': u'emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'admin', 'pub_module': u'mop...item', 'pub_submit_time': u'2017-06-16 23:27:53', 'id': 14L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'pub_content': u'\u53d1\u5e03\u987a\u5e8f\uff1a\r\napp-1\r\napp-2', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u'update haha  set id=2;', 'pub_done_time': u'2017-06-25 21:26:07', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'pub_content': u'app \u4e0a\u7ebf\u540e\u7531\u4e8e app_key \u672a\u66f4\u65b0\u5bfc\u81f4\u670d\u52a1\u6302\u6389', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8', 'pub_content': u'\u968f\u4fbf\u53d1\u5427', 'workform_type': u'publish', 'pub_application_people': u'eee', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-28 22:43:31', 'id': 17L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u5475\u989d', 'pub_content': u'\u53d1\u5e03\u4e00\u4e0b\u5427', 'workform_type': u'publish', 'pub_application_people': u'fff', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:49:16', 'id': 18L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7', 'pub_content': u'\u560e\u5df4\uff0c\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade-2', 'pub_submit_time': u'2017-06-28 22:50:09', 'id': 19L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1ahehehhahaha', 'pub_content': u'\u5c31\u8fd9\u4e48\u505a\u5427\uff0c\u522b\u5bb3\u7f9e\u7231\u62a4', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-28 23:25:52', 'pub_level': u'non-emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 22:50:42', 'id': 20L}, {'pub_title': u'\u56de\u6eda\u7533\u8bf7\uff1a\u7cfb\u7edf\u6302\u4e86', 'pub_content': u'\u5feb\u70b9\u56de\u6eda\u5427\uff0c\u5426\u5219\u4e3e\u8981\u6eda\u86cb\u5566', 'workform_type': u'rollback', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 0, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:51:29', 'id': 21L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u54c8\u54c8', 'pub_content': u'\u4f60\u662f\u6700\u68d2\u7684', 'workform_type': u'publish', 'pub_application_people': u'ddd', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 23:25:14', 'id': 22L}]
2017-06-28 23:34:11,824-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,workform_type,pub_status,pub_audit_people,pub_submit_time,audit_time,pub_done_time,pub_operation_people from publish_online where pub_application_people="ddd";"
2017-06-28 23:34:11,826-[DEBUG]-publish-workform_pub.py[line:77/pub_my]-pub_my_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u54c8\u54c8', 'pub_content': u'\u4f60\u662f\u6700\u68d2\u7684', 'workform_type': u'publish', 'pub_application_people': u'ddd', 'audit_time': None, 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 23:25:14', 'id': 22L}]
2017-06-28 23:34:11,829-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_SQL,pub_application_people,workform_type,pub_status,pub_submit_time,pub_audit_people,audit_time from publish_online where pub_status="1";"
2017-06-28 23:34:11,831-[DEBUG]-publish-workform_pub.py[line:92/pub_audit]-pub_audit_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'admin', 'audit_time': u'2017-06-27 22:22:32', 'pub_SQL': u'YES', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'audit_time': u'2017-06-27 22:28:58', 'pub_SQL': u'NO', 'pub_level': u'emergency', 'pub_status': 1, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}]
2017-06-28 23:34:44,438-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select app_name from cmdb_online ;"
2017-06-28 23:34:44,439-[DEBUG]-publish-workform_pub.py[line:22/pub_add]-module_name_list : [{'app_name': u'app'}, {'app_name': u'app-1'}, {'app_name': u'app-2'}, {'app_name': u'item'}, {'app_name': u'trade'}, {'app_name': u'trade-2'}]
2017-06-28 23:34:44,443-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,workform_type,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,pub_status,pub_audit_people,pub_submit_time,pub_done_time,pub_operation_people from publish_online ;"
2017-06-28 23:34:44,450-[DEBUG]-publish-workform_pub.py[line:62/pub_list]-pub_info_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-23 20:59:00', 'pub_level': u'non-emergency', 'pub_status': 6, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:34:41', 'id': 1L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-1', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:17:25', 'pub_level': u'non-emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:43:09', 'id': 3L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-2', 'pub_content': u'bug \u4fee\u590d\uff1a\u8d2d\u7269\u8f66\u65e0\u6cd5\u6dfb\u52a0\uff0c\u7ed3\u7b97\u9875\u5f39\u9519\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170615112305.war\r\n\titem\uff1aitem_20170615112305.war\r\n\tapp\uff1aapp_20170615112305.war\r\n\ttrade\uff1atrade_20170615112305.war\r\n\tbossmanager\uff1abossmanager_20170615112305.war', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u"CREATE TABLE `cmdb_online` (\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `app_name` varchar(20) NOT NULL COMMENT '\u5e94\u7528\u540d',\r\n  `app_ip` varchar(100) NOT NULL COMMENT 'IP \u5730\u5740',\r\n  `app_describe` varchar(100) DEFAULT NULL COMMENT '\u63cf\u8ff0',\r\n  `domain` varchar(100) DEFAULT NULL COMMENT '\u57df\u540d',\r\n  `cdn_domain` varchar(100) DEFAULT NULL COMMENT 'CDN \u57df\u540d',\r\n  `app_path` varchar(100) NOT NULL COMMENT '\u90e8\u7f72\u8def\u5f84',\r\n  `app_shell` varchar(100) NOT NULL COMMENT '\u542f\u52a8\u811a\u672c',\r\n  `app_log` varchar(100) DEFAULT NULL COMMENT '\u65e5\u5fd7\u8def\u5f84',\r\n  `app_ports` varchar(30) DEFAULT NULL COMMENT '\u5f00\u542f\u7684\u7aef\u53e3',\r\n  `app_way` varchar(30) NOT NULL COMMENT '\u90e8\u7f72\u65b9\u5f0f:nginx php tomcat jar',\r\n  `status` tinyint(2) NOT NULL COMMENT '\u5e94\u7528\u72b6\u6001:0-online\uff1b1-offline',\r\n  `online_time` varchar(30) NOT NULL COMMENT '\u4e0a\u7ebf\u65f6\u95f4',\r\n  `offline_time` varchar(30) DEFAULT NULL COMMENT '\u4e0b\u7ebf\u65f6\u95f4',\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `uni_app_name` (`app_name`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COMMENT='\u7ebf\u4e0a CMDB \u8868';", 'pub_done_time': u'2017-06-21 23:01:48', 'pub_level': u'non-emergency', 'pub_status': 7, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'mop;item;app;trade;bossmanager', 'pub_submit_time': u'2017-06-15 22:44:40', 'id': 13L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1abug\u4fee\u590d-mop', 'pub_content': u'bug \u63cf\u8ff0\uff1a\u7f51\u5173\u6302\u4e86\r\n\u6a21\u5757\u7248\u672c\u53ca\u53d1\u5e03\u987a\u5e8f\uff1a\r\n\tmop\uff1amop_20170616232305.war\r\n\titem\uff1aitem_20170616232305.war', 'workform_type': u'publish', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-21 23:00:10', 'pub_level': u'emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'admin', 'pub_module': u'mop...item', 'pub_submit_time': u'2017-06-16 23:27:53', 'id': 14L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'pub_content': u'\u53d1\u5e03\u987a\u5e8f\uff1a\r\napp-1\r\napp-2', 'workform_type': u'publish', 'pub_application_people': u'admin', 'pub_SQL': u'YES', 'pub_SQL_detail': u'update haha  set id=2;', 'pub_done_time': u'2017-06-25 21:26:07', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'pub_content': u'app \u4e0a\u7ebf\u540e\u7531\u4e8e app_key \u672a\u66f4\u65b0\u5bfc\u81f4\u670d\u52a1\u6302\u6389', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 1, 'pub_operation_people': None, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8', 'pub_content': u'\u968f\u4fbf\u53d1\u5427', 'workform_type': u'publish', 'pub_application_people': u'eee', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-28 22:43:31', 'id': 17L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u5475\u989d', 'pub_content': u'\u53d1\u5e03\u4e00\u4e0b\u5427', 'workform_type': u'publish', 'pub_application_people': u'fff', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:49:16', 'id': 18L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7', 'pub_content': u'\u560e\u5df4\uff0c\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade-2', 'pub_submit_time': u'2017-06-28 22:50:09', 'id': 19L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1ahehehhahaha', 'pub_content': u'\u5c31\u8fd9\u4e48\u505a\u5427\uff0c\u522b\u5bb3\u7f9e\u7231\u62a4', 'workform_type': u'publish', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': u'2017-06-28 23:25:52', 'pub_level': u'non-emergency', 'pub_status': 5, 'pub_operation_people': u'ddd', 'pub_audit_people': u'bbb', 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 22:50:42', 'id': 20L}, {'pub_title': u'\u56de\u6eda\u7533\u8bf7\uff1a\u7cfb\u7edf\u6302\u4e86', 'pub_content': u'\u5feb\u70b9\u56de\u6eda\u5427\uff0c\u5426\u5219\u4e3e\u8981\u6eda\u86cb\u5566', 'workform_type': u'rollback', 'pub_application_people': u'hhh', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'emergency', 'pub_status': 0, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'item', 'pub_submit_time': u'2017-06-28 22:51:29', 'id': 21L}, {'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u54c8\u54c8', 'pub_content': u'\u4f60\u662f\u6700\u68d2\u7684', 'workform_type': u'publish', 'pub_application_people': u'ddd', 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 23:25:14', 'id': 22L}]
2017-06-28 23:34:44,455-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_content,pub_SQL,pub_SQL_detail,pub_application_people,workform_type,pub_status,pub_audit_people,pub_submit_time,audit_time,pub_done_time,pub_operation_people from publish_online where pub_application_people="ddd";"
2017-06-28 23:34:44,456-[DEBUG]-publish-workform_pub.py[line:77/pub_my]-pub_my_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u5475\u5475\u54c8\u54c8', 'pub_content': u'\u4f60\u662f\u6700\u68d2\u7684', 'workform_type': u'publish', 'pub_application_people': u'ddd', 'audit_time': None, 'pub_SQL': u'NO', 'pub_SQL_detail': u'', 'pub_done_time': None, 'pub_level': u'non-emergency', 'pub_status': 3, 'pub_operation_people': None, 'pub_audit_people': None, 'pub_module': u'trade', 'pub_submit_time': u'2017-06-28 23:25:14', 'id': 22L}]
2017-06-28 23:34:44,469-[DEBUG]-DB_mysql-mysql_exec.py[line:81/select_sql]-select_sql : "select id,pub_title,pub_level,pub_module,pub_SQL,pub_application_people,workform_type,pub_status,pub_submit_time,pub_audit_people,audit_time from publish_online where pub_status="1";"
2017-06-28 23:34:44,471-[DEBUG]-publish-workform_pub.py[line:92/pub_audit]-pub_audit_list : [{'pub_title': u'\u53d1\u5e03\u7533\u8bf7\uff1a\u54c8\u54c8\u54c8\u5475\u5475', 'workform_type': u'publish', 'pub_application_people': u'admin', 'audit_time': u'2017-06-27 22:22:32', 'pub_SQL': u'YES', 'pub_level': u'non-emergency', 'pub_status': 1, 'pub_audit_people': u'bbb', 'pub_module': u'app-1 ; app-2', 'pub_submit_time': u'2017-06-23 21:28:35', 'id': 15L}, {'pub_title': u'\u56de\u6edamop', 'workform_type': u'rollback', 'pub_application_people': u'bbb', 'audit_time': u'2017-06-27 22:28:58', 'pub_SQL': u'NO', 'pub_level': u'emergency', 'pub_status': 1, 'pub_audit_people': u'admin', 'pub_module': u'app ; app-1', 'pub_submit_time': u'2017-06-27 22:20:40', 'id': 16L}]
2017-06-28 23:35:12,182-[INFO]-users-users.py[line:182/user_logout]-User "ddd" logout success
